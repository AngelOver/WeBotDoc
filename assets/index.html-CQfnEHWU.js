import{_ as s,e as a,g as e,o as l}from"./app-B14-sJo6.js";const n={};function t(d,i){return l(),a("div",null,i[0]||(i[0]=[e(`<h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p>NcatBot CLI 是一个命令行工具，用于管理和控制 NcatBot 的运行。它提供了丰富的命令来管理插件、配置机器人以及执行各种系统操作。</p><h2 id="快速开始" tabindex="-1"><a class="header-anchor" href="#快速开始"><span>快速开始</span></a></h2><h3 id="启动-cli" tabindex="-1"><a class="header-anchor" href="#启动-cli"><span>启动 CLI</span></a></h3><p>确保当前 Python 环境已安装 NcatBot。</p><p>执行以下命令启动 CLI：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ncatbot.cli.main</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [path]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>其中 <code>[path]</code> 是一个可选参数，用于指定 CLI 工作目录，默认工作目录为执行此命令的目录。</p><h3 id="直接执行命令" tabindex="-1"><a class="header-anchor" href="#直接执行命令"><span>直接执行命令</span></a></h3><p>CLI 支持不进入交互模式直接执行命令：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ncatbot.cli.main</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">命令</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [-a] </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">参数...</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>例如：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 直接启动 NcatBot</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ncatbot.cli.main</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 安装插件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ncatbot.cli.main</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> TestPlugin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 列出已安装插件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ncatbot.cli.main</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 创建一个模板插件(名为 MyPlugin)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ncatbot.cli.main</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> new</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MyPlugin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="首次运行" tabindex="-1"><a class="header-anchor" href="#首次运行"><span>首次运行</span></a></h3><p>首次运行 CLI 时：</p><ol><li>系统会提示设置 QQ 号</li><li>自动安装 <code>TestPlugin</code> 插件用于测试</li><li>创建必要的工作目录结构</li></ol><h2 id="命令系统" tabindex="-1"><a class="header-anchor" href="#命令系统"><span>命令系统</span></a></h2><p>CLI 采用命令注册系统，所有命令都通过装饰器注册到全局命令注册表中。每个命令都包含以下信息：</p><ul><li>命令名称</li><li>命令描述</li><li>使用说明</li><li>帮助文本</li><li>命令别名</li></ul><h3 id="系统命令" tabindex="-1"><a class="header-anchor" href="#系统命令"><span>系统命令</span></a></h3><h4 id="start" tabindex="-1"><a class="header-anchor" href="#start"><span>start</span></a></h4><ul><li>用法：<code>start</code></li><li>别名：<code>s</code>, <code>run</code></li><li>描述：启动 NcatBot</li></ul><h4 id="setqq" tabindex="-1"><a class="header-anchor" href="#setqq"><span>setqq</span></a></h4><ul><li>用法：<code>setqq</code></li><li>别名：<code>qq</code></li><li>描述：设置或更新 QQ 号</li></ul><h4 id="update" tabindex="-1"><a class="header-anchor" href="#update"><span>update</span></a></h4><ul><li>用法：<code>update</code></li><li>别名：<code>u</code>, <code>upgrade</code></li><li>描述：更新 NcatBot 和 NapCat</li><li>功能： <ul><li>更新 NapCat 版本</li><li>从阿里源更新 NcatBot</li><li>更新完成后需要重新启动 CLI</li></ul></li></ul><h4 id="exit" tabindex="-1"><a class="header-anchor" href="#exit"><span>exit</span></a></h4><ul><li>用法：<code>exit</code></li><li>别名：<code>quit</code>, <code>q</code></li><li>描述：退出 CLI 工具</li></ul><h3 id="插件管理命令" tabindex="-1"><a class="header-anchor" href="#插件管理命令"><span>插件管理命令</span></a></h3><h4 id="install" tabindex="-1"><a class="header-anchor" href="#install"><span>install</span></a></h4><ul><li>用法：<code>install &lt;插件名&gt; [--fix]</code></li><li>别名：<code>i</code></li><li>描述：安装或更新插件</li><li>参数： <ul><li><code>--fix</code>：尝试修复安装失败的插件，或者尝试覆盖安装</li></ul></li></ul><h4 id="remove" tabindex="-1"><a class="header-anchor" href="#remove"><span>remove</span></a></h4><ul><li>用法：<code>remove &lt;插件名&gt;</code></li><li>别名：<code>r</code>, <code>uninstall</code></li><li>描述：卸载指定插件</li></ul><h4 id="list" tabindex="-1"><a class="header-anchor" href="#list"><span>list</span></a></h4><ul><li>用法：<code>list</code></li><li>别名：<code>l</code>, <code>ls</code></li><li>描述：列出已安装的插件及其版本</li></ul><h4 id="list-remote" tabindex="-1"><a class="header-anchor" href="#list-remote"><span>list_remote</span></a></h4><ul><li>用法：<code>list_remote</code></li><li>别名：<code>lr</code></li><li>描述：列出远程仓库中可用的插件</li></ul><h4 id="create" tabindex="-1"><a class="header-anchor" href="#create"><span>create</span></a></h4><ul><li>用法：<code>create &lt;插件名&gt;</code></li><li>别名：<code>new</code>, <code>template</code></li><li>描述：创建新的插件模板</li><li>功能： <ul><li>创建插件目录结构</li><li>生成基本代码文件</li><li>创建配置文件</li><li>生成 README 文档</li></ul></li></ul><h3 id="信息命令" tabindex="-1"><a class="header-anchor" href="#信息命令"><span>信息命令</span></a></h3><h4 id="help" tabindex="-1"><a class="header-anchor" href="#help"><span>help</span></a></h4><ul><li>用法：<code>help [命令名]</code></li><li>别名：<code>h</code>, <code>?</code></li><li>描述：显示命令帮助信息</li><li>参数： <ul><li><code>命令名</code>：显示指定命令的详细帮助</li></ul></li></ul><h4 id="version" tabindex="-1"><a class="header-anchor" href="#version"><span>version</span></a></h4><ul><li>用法：<code>version</code></li><li>别名：<code>v</code>, <code>ver</code></li><li>描述：显示 NcatBot 版本信息</li></ul><h2 id="工作目录结构" tabindex="-1"><a class="header-anchor" href="#工作目录结构"><span>工作目录结构</span></a></h2><p>CLI 的工作目录包含以下内容：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span></span></span>
<span class="line"><span>plugins/          # 插件目录</span></span>
<span class="line"><span>|   ├── plugin1/     # 插件1</span></span>
<span class="line"><span>|   └── plugin2/     # 插件2</span></span>
<span class="line"><span>├── number.txt       # QQ 号配置文件</span></span>
<span class="line"><span>└── logs/            # 日志目录</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="插件开发" tabindex="-1"><a class="header-anchor" href="#插件开发"><span>插件开发</span></a></h2><h3 id="创建新插件" tabindex="-1"><a class="header-anchor" href="#创建新插件"><span>创建新插件</span></a></h3><p>使用 <code>create</code> 命令创建新插件模板：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">create</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MyPlugin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者不进入 CLI 直接执行命令</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ncatbot.cli</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> create</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MyPlugin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这将创建一个包含以下文件的插件模板，插件名为 <code>MyPlugin</code>：</p><ul><li><code>__init__.py</code>：插件入口文件</li><li><code>main.py</code>：插件主文件</li><li><code>README.md</code>：插件文档</li><li><code>.gitignore</code>：Git 忽略文件</li><li><code>requirements.txt</code>：依赖项文件</li></ul><h3 id="插件模板结构" tabindex="-1"><a class="header-anchor" href="#插件模板结构"><span>插件模板结构</span></a></h3><p>插件模板包含以下基本功能：</p><ul><li>群消息事件处理</li><li>私聊消息事件处理</li><li>配置项管理</li><li>功能注册系统</li></ul><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ol><li>确保在使用 CLI 前已正确安装 NcatBot</li><li>建议使用稳定的网络环境进行插件安装和更新</li><li>定期使用 <code>update</code> 命令保持 NcatBot 为最新版本</li><li>插件安装失败时，可以尝试使用 <code>--fix</code> 参数进行修复</li></ol>`,60)]))}const c=s(n,[["render",t],["__file","index.html.vue"]]),p=JSON.parse('{"path":"/guide/ncatbotcli/","title":"CLI","lang":"zh-CN","frontmatter":{"title":"CLI","createTime":"2025/03/05 20:00:05","permalink":"/guide/ncatbotcli/","description":"简介 NcatBot CLI 是一个命令行工具，用于管理和控制 NcatBot 的运行。它提供了丰富的命令来管理插件、配置机器人以及执行各种系统操作。 快速开始 启动 CLI 确保当前 Python 环境已安装 NcatBot。 执行以下命令启动 CLI： 其中 [path] 是一个可选参数，用于指定 CLI 工作目录，默认工作目录为执行此命令的目录。...","head":[["meta",{"property":"og:url","content":"http://docs.ncatbot.xyz/guide/ncatbotcli/"}],["meta",{"property":"og:site_name","content":"NcatBot 文档"}],["meta",{"property":"og:title","content":"CLI"}],["meta",{"property":"og:description","content":"简介 NcatBot CLI 是一个命令行工具，用于管理和控制 NcatBot 的运行。它提供了丰富的命令来管理插件、配置机器人以及执行各种系统操作。 快速开始 启动 CLI 确保当前 Python 环境已安装 NcatBot。 执行以下命令启动 CLI： 其中 [path] 是一个可选参数，用于指定 CLI 工作目录，默认工作目录为执行此命令的目录。..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-23T16:23:09.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-23T16:23:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"CLI\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-06-23T16:23:09.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":2.96,"words":887},"git":{"updatedTime":1750695789000,"contributors":[{"name":"liang","username":"liang","email":"2424123787@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/liang?v=4","url":"https://github.com/liang"}]},"autoDesc":true,"filePathRelative":"notes/guide/5. 杂项/5. CLI.md","categoryList":[{"id":"4358b5","sort":10000,"name":"notes"},{"id":"c6d211","sort":10001,"name":"guide"},{"id":"e59377","sort":5,"name":" 杂项"}]}');export{c as comp,p as data};
