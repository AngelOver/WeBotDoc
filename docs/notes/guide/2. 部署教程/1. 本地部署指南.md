---
title: 1. 本地部署指南
createTime: 2025/06/25 15:49:30
permalink: /article/k0jowsj2/
---

# 本地部署指南

本文档介绍如何在本地Windows环境中部署WeChatBot智能聊天机器人。

## 🛠️ 环境准备

### 系统要求
- **操作系统**：Windows 8.1 及以上版本
- **内存**：至少 4GB RAM
- **存储空间**：至少 2GB 可用空间
- **网络**：稳定的互联网连接

### 软件依赖
- **Python 3.8+**：推荐使用 Python 3.9.7
- **微信**：必须是 3.9 版本（不支持 4.0+）
- **浏览器**：Chrome、Firefox、Edge 等现代浏览器

## 📥 下载安装

### 步骤1：下载程序
1. 访问 [GitHub Release 页面](https://github.com/iwyxdxl/WeChatBot_WXAUTO_SE/releases)
2. 下载最新版本的压缩包
3. 创建专门的文件夹（如 `D:\WeChatBot`）
4. **完全解压**压缩包到该文件夹

⚠️ **重要提示**：必须完全解压，不能直接在压缩包中运行！

### 步骤2：Python环境配置
1. **下载Python**：
   - 访问 [Python官网](https://www.python.org/downloads/)
   - 下载 Python 3.9.7 版本

2. **安装Python**：
   - 运行安装程序
   - ✅ **务必勾选** "Add Python to PATH"
   - ✅ **推荐勾选** "Install pip"
   - 选择 "Customize installation" 
   - 完成安装

3. **验证安装**：
   ```bash
   # 打开命令提示符，输入以下命令
   python --version
   pip --version
   ```

### 步骤3：微信准备
1. **下载指定版本微信**：
   - 必须使用 3.9 版本微信
   - 可以在项目群文件中下载

2. **准备两个微信账号**：
   - **主号**：您的常用微信账号
   - **机器人号**：专门用作机器人的小号

3. **账号养号（推荐）**：
   - 实名认证机器人号
   - 正常使用3-5天
   - 发朋友圈、聊天、发红包
   - 确保账号活跃度

## 🚀 启动配置

### 首次启动
1. **登录微信**：
   - 在电脑上登录机器人微信号
   - 确保微信正常运行

2. **运行程序**：
   - 双击 `Run.bat` 文件
   - 等待依赖包自动安装
   - 程序会自动打开浏览器配置页面

3. **等待初始化**：
   - 首次运行需要下载依赖包
   - 过程可能需要5-10分钟
   - 请耐心等待不要关闭窗口

### WebUI配置
浏览器会自动打开配置页面，进行以下设置：

#### 1. API配置
- **服务提供商**：选择 WeAPIs 或 硅基流动
- **API密钥**：从服务商获取并填入
- **模型选择**：根据需求选择合适的AI模型

#### 2. 用户配置
- **用户昵称**：
  - 如果机器人号未给主号设置备注：填写主号的微信昵称
  - 如果已设置备注：填写备注名称
- **人设选择**：在左侧选择或创建合适的AI人设

#### 3. 功能开关
- **图片识别**：是否启用图片理解功能
- **联网搜索**：是否启用实时搜索功能
- **定时提醒**：是否启用智能提醒功能
- **表情包回复**：是否启用情绪表情包

### 启动机器人
配置完成后：
1. 点击右上角 **"Start Bot"** 按钮
2. 观察控制台输出信息
3. 确认微信连接成功
4. 进行功能测试

## 🔧 测试验证

### 基础功能测试
1. **消息回复测试**：
   - 用主号给机器人发送 "你好"
   - 观察是否收到智能回复

2. **图片识别测试**：
   - 发送一张图片
   - 测试AI是否能理解图片内容

3. **定时功能测试**：
   - 发送 "5分钟后提醒我休息"
   - 验证定时提醒是否正常

### 监控状态
- **WebUI监控**：实时查看对话状态
- **控制台日志**：观察程序运行信息
- **微信状态**：确认消息正常收发

## 🛠️ 常见问题解决

### Python相关问题
**问题**：提示 "python 不是内部或外部命令"
**解决**：
1. 完全卸载现有Python
2. 重新安装并勾选 "Add Python to PATH"
3. 重启电脑后再试

**问题**：pip 安装包失败
**解决**：
```bash
# 更换为国内镜像源
pip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/
```

### 微信相关问题
**问题**：提示 "无效窗口句柄"
**解决**：
1. 确认使用3.9版本微信（非4.0）
2. 检查用户昵称配置是否正确
3. 重启微信和程序

**问题**：微信不跳转
**解决**：
1. 确认微信版本为3.9
2. 检查用户名配置（不要包含特殊字符）
3. 确认微信已正常登录

### API相关问题
**问题**：API调用失败
**解决**：
1. 检查API密钥是否正确
2. 确认账户余额充足
3. 验证网络连接正常

**问题**：AI回复异常
**解决**：
1. 尝试更换其他AI模型
2. 清除上下文记忆
3. 检查提示词设置

## 📊 性能优化

### 资源占用优化
- **内存管理**：定期清理对话历史
- **CPU优化**：调整回复间隔时间
- **网络优化**：选择响应速度快的API服务商

### 费用控制
- **模型选择**：日常使用选择性价比高的模型
- **记忆管理**：定期清理无用记忆
- **功能控制**：按需开启高费用功能

## 🔄 日常维护

### 定期维护任务
- **每日**：检查程序运行状态
- **每周**：清理对话记录和缓存
- **每月**：检查API使用情况和费用

### 备份建议
- **配置备份**：导出重要的配置文件
- **人设备份**：保存自定义的AI人设
- **数据备份**：定期备份重要对话记录

---

💡 **小贴士**：建议在完成本地部署后，考虑使用云服务器部署，以获得7×24小时稳定运行的体验。

📚 **相关文档**：
- [云服务器部署指南](2. 云服务器部署指南.md)
- [配置详细说明](../3. 配置指南/1. 基础配置设置.md)
- [常见问题解答](../7. 常见问题/1. 安装时常见问题.md)
