{"content":"<p>åŸºäºç‰©å“çš„ååŒè¿‡æ»¤ï¼ˆItem-based Collaborative Filtering, ItemCFï¼‰æ˜¯å¦ä¸€ç§ç»å…¸çš„ååŒè¿‡æ»¤æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒç†å¿µæ˜¯ <strong>&quot;ç‰©ä»¥ç±»èš&quot;</strong>ã€‚ä¸UserCFä¸åŒï¼ŒItemCFå…³æ³¨çš„æ˜¯ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œé€šè¿‡åˆ†æç”¨æˆ·å¯¹ç›¸ä¼¼ç‰©å“çš„åå¥½æ¥è¿›è¡Œæ¨èã€‚</p>\n<h2 id=\"ğŸ¯-itemcfçš„æ ¸å¿ƒæ€æƒ³\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ¯-itemcfçš„æ ¸å¿ƒæ€æƒ³\"><span>ğŸ¯ ItemCFçš„æ ¸å¿ƒæ€æƒ³</span></a></h2>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">ç‰©å“ç¨³å®šæ€§</p>\n<p>ç›¸æ¯”äºç”¨æˆ·åå¥½çš„å¤šå˜æ€§ï¼Œç‰©å“çš„ç‰¹å¾å’Œç”¨æˆ·å¯¹ç‰©å“çš„æ•´ä½“è¯„ä»·ç›¸å¯¹ç¨³å®šï¼Œè¿™ä½¿å¾—ItemCFåœ¨å¾ˆå¤šåœºæ™¯ä¸‹æ¯”UserCFæ›´å®ç”¨ã€‚</p>\n</div>\n<h3 id=\"ç®—æ³•ç›´è§‰\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç®—æ³•ç›´è§‰\"><span>ç®—æ³•ç›´è§‰</span></a></h3>\n<p>å½“ä½ åœ¨è´­ç‰©ç½‘ç«™ä¸Šçœ‹å•†å“æ—¶ï¼Œç»å¸¸ä¼šçœ‹åˆ°&quot;ä¹°äº†è¿™ä¸ªå•†å“çš„ç”¨æˆ·è¿˜ä¹°äº†...&quot;è¿™æ ·çš„æ¨èï¼Œè¿™å°±æ˜¯ItemCFçš„å…¸å‹åº”ç”¨ï¼š</p>\n<ol>\n<li>åˆ†æä½ å·²ç»è´­ä¹°/å–œæ¬¢çš„å•†å“</li>\n<li>æ‰¾åˆ°ä¸è¿™äº›å•†å“ç›¸ä¼¼çš„å…¶ä»–å•†å“</li>\n<li>æ¨èç›¸ä¼¼åº¦æœ€é«˜çš„å•†å“</li>\n</ol>\n<h3 id=\"æ•°å­¦è¡¨è¾¾\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#æ•°å­¦è¡¨è¾¾\"><span>æ•°å­¦è¡¨è¾¾</span></a></h3>\n<p>ItemCFé¢„æµ‹ç”¨æˆ· <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span> å¯¹ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> çš„è¯„åˆ†ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mover accent=\"true\"><mi>r</mi><mo>^</mo></mover><mrow><mi>u</mi><mo separator=\"true\">,</mo><mi>i</mi></mrow></msub><mo>=</mo><mfrac><mrow><munder><mo>âˆ‘</mo><mrow><mi>j</mi><mo>âˆˆ</mo><msub><mi>N</mi><mi>k</mi></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></munder><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>â‹…</mo><msub><mi>r</mi><mrow><mi>u</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub></mrow><mrow><munder><mo>âˆ‘</mo><mrow><mi>j</mi><mo>âˆˆ</mo><msub><mi>N</mi><mi>k</mi></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></munder><mi mathvariant=\"normal\">âˆ£</mi><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mi mathvariant=\"normal\">âˆ£</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\hat{r}_{u,i} = \\frac{\\sum_{j \\in N_k(i)} sim(i,j) \\cdot r_{u,j}}{\\sum_{j \\in N_k(i)} |sim(i,j)|}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1944em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.7754em;vertical-align:-1.1607em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.6147em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2253em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:-0.109em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1512em;\"><span></span></span></span></span></span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4747em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">âˆ£</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mord\">âˆ£</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.8647em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2253em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:-0.109em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1512em;\"><span></span></span></span></span></span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4747em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1607em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>N</mi><mi>k</mi></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">N_k(i)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">)</span></span></span></span> æ˜¯ä¸ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> æœ€ç›¸ä¼¼çš„ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> ä¸ªç‰©å“é›†åˆ</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span> æ˜¯ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> å’Œ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span> ä¹‹é—´çš„ç›¸ä¼¼åº¦</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>r</mi><mrow><mi>u</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">r_{u,j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ç”¨æˆ· <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span> å¯¹ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span> çš„è¯„åˆ†</li>\n</ul>\n<h2 id=\"ğŸ“-itemcfçš„æ ¸å¿ƒç®—æ³•\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ“-itemcfçš„æ ¸å¿ƒç®—æ³•\"><span>ğŸ“ ItemCFçš„æ ¸å¿ƒç®—æ³•</span></a></h2>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">å‚è€ƒååŒè¿‡æ»¤æ€»è§ˆ</p>\n<p>è¯¦ç»†çš„ç›¸ä¼¼åº¦è®¡ç®—æ–¹æ³•è¯·å‚è€ƒ <RouteLink to=\"/zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.html#%E7%9B%B8%E4%BC%BC%E5%BA%A6%E5%BA%A6%E9%87%8F%E6%96%B9%E6%B3%95%E8%AF%A6%E7%BB%86%E5%AF%B9%E6%AF%94\">ååŒè¿‡æ»¤æ€»è§ˆ</RouteLink> ä¸­çš„å®Œæ•´å¯¹æ¯”åˆ†æã€‚</p>\n</div>\n<p>ItemCFåœ¨ç‰©å“ç›¸ä¼¼åº¦è®¡ç®—ä¸Šçš„ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li><strong>éšå¼åé¦ˆ</strong>ï¼šä½™å¼¦ç›¸ä¼¼åº¦è¡¨ç°æœ€ä½³</li>\n<li><strong>æ˜¾å¼è¯„åˆ†</strong>ï¼šè°ƒæ•´ä½™å¼¦ç›¸ä¼¼åº¦æ›´å‡†ç¡®</li>\n<li><strong>å¤§è§„æ¨¡ç³»ç»Ÿ</strong>ï¼šæ°å¡å¾·ç³»æ•°è®¡ç®—æ•ˆç‡é«˜</li>\n</ul>\n<h2 id=\"ğŸ’»-itemcfç®—æ³•å®ç°\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ’»-itemcfç®—æ³•å®ç°\"><span>ğŸ’» ItemCFç®—æ³•å®ç°</span></a></h2>\n<details class=\"hint-container details\"><summary>ItemCFæ ¸å¿ƒç®—æ³•æ¡†æ¶</summary>\n<div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-python\"><span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">import</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> numpy </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">from</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> sklearn</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">metrics</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">pairwise </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">import</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> cosine_similarity</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">class</span><span style=\"--shiki-light:#2E8F82;--shiki-dark:#5DA994\"> ItemBasedCF</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> __init__</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> k_neighbors</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">20</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> similarity_method</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">cosine</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">k_neighbors </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> k_neighbors</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> similarity_method</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> None</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\"> fit</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">        \"\"\"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">è®­ç»ƒItemCFæ¨¡å‹</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">copy</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # è®¡ç®—ç‰©å“ç›¸ä¼¼åº¦çŸ©é˜µ</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        if</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">==</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">cosine</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">            # è½¬ç½®ä¸ºç‰©å“Ã—ç”¨æˆ·çŸ©é˜µï¼Œè®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">            item_user_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">T</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">            self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> cosine_similarity</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_user_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        elif</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">==</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">adjusted_cosine</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">            self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">_adjusted_cosine_similarity</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        else</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">            raise</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> ValueError</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">f</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\"Unknown similarity method: </span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">{self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">}</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\"</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\"> predict_rating</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">        \"\"\"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">é¢„æµ‹ç”¨æˆ·å¯¹ç‰©å“çš„è¯„åˆ†</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        user_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        item_similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # æ‰¾åˆ°ç”¨æˆ·å·²è¯„åˆ†çš„ç‰©å“</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        rated_items </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">where</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)[</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        if</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> len</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rated_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> ==</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">            return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mean</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[:,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">][</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[:,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> ></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">])</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">            </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # é€‰æ‹©æœ€ç›¸ä¼¼çš„kä¸ªç‰©å“</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rated_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        top_k_indices </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">argsort</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)[</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">-</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">k_neighbors</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        top_similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">top_k_indices</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        top_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rated_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">top_k_indices</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # è¿‡æ»¤æ‰ç›¸ä¼¼åº¦ä¸º0çš„ç‰©å“</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        valid_mask </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> top_similarities </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        if</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sum</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_mask</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> ==</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">            return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mean</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">])</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">            </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # è®¡ç®—åŠ æƒå¹³å‡</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        valid_similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> top_similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_mask</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        valid_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> top_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_mask</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        predicted_rating </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sum</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_similarities </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">*</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> valid_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> /</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sum</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">clip</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">predicted_rating</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 1</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 5</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\"> recommend_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> n_recommendations</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">10</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">        \"\"\"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">ä¸ºç”¨æˆ·æ¨èç‰©å“</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        user_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        candidate_items </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">where</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">==</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)[</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        predictions </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\"> [(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">predict_rating</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">))</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">                      for</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">in</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> candidate_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        predictions</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sort</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">key</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">lambda</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> x</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> x</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">1</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">],</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\"> reverse</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">True</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> predictions</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[:</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">n_recommendations</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2 id=\"ğŸ¯-itemcfçš„ç‹¬ç‰¹ä¼˜åŠ¿\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ¯-itemcfçš„ç‹¬ç‰¹ä¼˜åŠ¿\"><span>ğŸ¯ ItemCFçš„ç‹¬ç‰¹ä¼˜åŠ¿</span></a></h2>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">å¯¹æ¯”åˆ†æå‚è€ƒ</p>\n<p>UserCFä¸ItemCFçš„è¯¦ç»†å¯¹æ¯”åˆ†æè¯·å‚è€ƒ <RouteLink to=\"/zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.html#usercf-vs-itemcf-%E5%85%A8%E9%9D%A2%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90\">ååŒè¿‡æ»¤æ€»è§ˆ</RouteLink> ä¸­çš„å…¨é¢åˆ†æã€‚</p>\n</div>\n<h3 id=\"itemcfçš„æ ¸å¿ƒä¼˜åŠ¿\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#itemcfçš„æ ¸å¿ƒä¼˜åŠ¿\"><span>ItemCFçš„æ ¸å¿ƒä¼˜åŠ¿</span></a></h3>\n<p><strong>ç¨³å®šæ€§ä¼˜åŠ¿</strong>ï¼š</p>\n<ul>\n<li>ç‰©å“å±æ€§ç›¸å¯¹ç¨³å®šï¼Œç›¸ä¼¼åº¦çŸ©é˜µæ›´æ–°é¢‘ç‡ä½</li>\n<li>é€‚åˆç‰©å“åº“ç›¸å¯¹å›ºå®šçš„ç”µå•†ã€æ•™è‚²ç­‰åœºæ™¯</li>\n</ul>\n<p><strong>è®¡ç®—æ•ˆç‡</strong>ï¼š</p>\n<ul>\n<li>å¯ä»¥ç¦»çº¿é¢„è®¡ç®—ç‰©å“ç›¸ä¼¼åº¦çŸ©é˜µ</li>\n<li>å®æ—¶æ¨èå“åº”é€Ÿåº¦å¿«</li>\n</ul>\n<p><strong>å·¥ç¨‹å®ç°ä¼˜åŠ¿</strong>ï¼š</p>\n<ul>\n<li>æ›´å®¹æ˜“è¿›è¡Œç¼“å­˜ä¼˜åŒ–</li>\n<li>åˆ†å¸ƒå¼è®¡ç®—å‹å¥½</li>\n</ul>\n<h2 id=\"ğŸš€-itemcfçš„ä¼˜åŒ–ç­–ç•¥\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸš€-itemcfçš„ä¼˜åŒ–ç­–ç•¥\"><span>ğŸš€ ItemCFçš„ä¼˜åŒ–ç­–ç•¥</span></a></h2>\n<h3 id=\"ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–\"><span>ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–</span></a></h3>\n<p><strong>1. å…±ç°çŸ©é˜µä¼˜åŒ–</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>C</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi mathvariant=\"normal\">âˆ£</mi><msub><mi>U</mi><mi>i</mi></msub><mo>âˆ©</mo><msub><mi>U</mi><mi>j</mi></msub><mi mathvariant=\"normal\">âˆ£</mi></mrow><annotation encoding=\"application/x-tex\">C_{ij} = |U_i \\cap U_j|\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">ij</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">âˆ£</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">âˆ©</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\">âˆ£</span></span></span></span></span></p>\n<p>å…¶ä¸­ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>U</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">U_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯è´­ä¹°/è¯„åˆ†ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> çš„ç”¨æˆ·é›†åˆã€‚</p>\n<p><strong>2. æƒ©ç½šçƒ­é—¨ç‰©å“</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>s</mi><mi>i</mi><msup><mi>m</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><mrow><mi>log</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><mi mathvariant=\"normal\">âˆ£</mi><msub><mi>U</mi><mi>j</mi></msub><mi mathvariant=\"normal\">âˆ£</mi><mo stretchy=\"false\">)</mo></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">sim&#x27;(i,j) = \\frac{sim(i,j)}{\\log(1 + |U_j|)}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0519em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8019em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.3991em;vertical-align:-0.9721em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">âˆ£</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\">âˆ£</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9721em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>é˜²æ­¢çƒ­é—¨ç‰©å“ä¸»å¯¼ç›¸ä¼¼åº¦è®¡ç®—ã€‚</p>\n<p><strong>3. æ—¶é—´è¡°å‡å› å­</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>â‹…</mo><mi>exp</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mo>âˆ’</mo><mi>Î»</mi><mo>â‹…</mo><mi mathvariant=\"normal\">Î”</mi><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{time}(i,j) = sim(i,j) \\cdot \\exp(-\\lambda \\cdot \\Delta t)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">im</span><span class=\"mord mathnormal mtight\">e</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">exp</span><span class=\"mopen\">(</span><span class=\"mord\">âˆ’</span><span class=\"mord mathnormal\">Î»</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">Î”</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å¯¹å†å²æ•°æ®è¿›è¡Œæ—¶é—´è¡°å‡ã€‚</p>\n<h3 id=\"å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–\"><span>å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–</span></a></h3>\n<table>\n<thead>\n<tr>\n<th>ä¼˜åŒ–æ–¹æ³•</th>\n<th>æŠ€æœ¯æ‰‹æ®µ</th>\n<th>é€‚ç”¨åœºæ™¯</th>\n<th>æ•ˆæœ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>ç¨€ç–å­˜å‚¨</strong></td>\n<td>scipy.sparse.csr_matrix</td>\n<td>å¤§è§„æ¨¡ç¨€ç–çŸ©é˜µ</td>\n<td>èŠ‚çœ90%+å†…å­˜</td>\n</tr>\n<tr>\n<td><strong>Top-Kæˆªæ–­</strong></td>\n<td>åªå­˜å‚¨ç›¸ä¼¼åº¦æœ€é«˜çš„Kä¸ªç‰©å“</td>\n<td>å®æ—¶æ¨è</td>\n<td>æå‡æŸ¥è¯¢é€Ÿåº¦</td>\n</tr>\n<tr>\n<td><strong>åˆ†å—è®¡ç®—</strong></td>\n<td>å°†ç‰©å“çŸ©é˜µåˆ†å—å¹¶è¡Œè®¡ç®—</td>\n<td>è¶…å¤§è§„æ¨¡æ•°æ®</td>\n<td>çº¿æ€§æ‰©å±•èƒ½åŠ›</td>\n</tr>\n<tr>\n<td><strong>å¢é‡æ›´æ–°</strong></td>\n<td>åªæ›´æ–°æ–°å¢/å˜åŒ–çš„ç‰©å“å¯¹</td>\n<td>åŠ¨æ€æ•°æ®</td>\n<td>é™ä½æ›´æ–°æˆæœ¬</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ğŸ¯-åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ¯-åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ\"><span>ğŸ¯ åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ</span></a></h2>\n<h3 id=\"ç”µå•†æ¨èç³»ç»Ÿ\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç”µå•†æ¨èç³»ç»Ÿ\"><span>ç”µå•†æ¨èç³»ç»Ÿ</span></a></h3>\n<p><strong>Amazon å•†å“æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>&quot;è´­ä¹°äº†Açš„ç”¨æˆ·è¿˜è´­ä¹°äº†B&quot;</strong>ï¼šç»å…¸ItemCFåº”ç”¨</li>\n<li><strong>å•†å“ç›¸ä¼¼åº¦é¢„è®¡ç®—</strong>ï¼šç¦»çº¿è®¡ç®—å•†å“ç›¸ä¼¼åº¦çŸ©é˜µ</li>\n<li><strong>å¤šé‡è¿‡æ»¤æœºåˆ¶</strong>ï¼šä»·æ ¼åŒºé—´ã€å“ç±»çº¦æŸã€åº“å­˜çŠ¶æ€</li>\n</ul>\n<p><strong>æŠ€æœ¯ç»†èŠ‚</strong>ï¼š</p>\n<Mermaid id=\"mermaid-286\" code=\"eJxNkM1Kw0AUhfd9ikuhy76CYO2Piiu3xYUI4kIQRHAbS1Nr28RiGtPWkhoQG0EjFcTYpO27SO7MZFUfwcxkhM7icuF859zDHJ+eXR6dHJ5fwN5+BpK3Wc3+jo0W0J5Lml/M6UT+LHsA+fwGFLhk1Vb+LdDxS9z/JHYdg0QVxi1hbAOaDTSucGoTZSKNRSF1ARsqet/0wY/CEGfP0ihGQYClavZneC8O/EPMc6hnSbSYUmIvib3Mo+8WshC+9bHmrueWBVXhuQ4Q3WVaF0OTGLqEtrky4Bcjf4gth03q2BzI3js8vKcBDQxij9jymgRP0ldJATF3Oaa/y/gUXu+Qy0E0XyYfiqqLUyVWNXbzsQo7xHqMRwpqJm2/Mm9B517mDwSLuUU=\"></Mermaid><h3 id=\"å†…å®¹æ¨èå¹³å°\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#å†…å®¹æ¨èå¹³å°\"><span>å†…å®¹æ¨èå¹³å°</span></a></h3>\n<p><strong>Netflix ç”µå½±æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>åŸºäºè§‚çœ‹å†å²çš„ItemCF</strong>ï¼šåˆ†æè§‚çœ‹è¡Œä¸ºç›¸ä¼¼æ€§</li>\n<li><strong>å¤šç»´åº¦ç‰¹å¾èåˆ</strong>ï¼šç»“åˆç”µå½±ç±»å‹ã€å¯¼æ¼”ã€æ¼”å‘˜ç­‰</li>\n<li><strong>ä¸ªæ€§åŒ–æƒé‡è°ƒæ•´</strong>ï¼šæ ¹æ®ç”¨æˆ·ç”»åƒè°ƒæ•´æ¨èæƒé‡</li>\n</ul>\n<p><strong>YouTube è§†é¢‘æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>è§‚çœ‹åºåˆ—åˆ†æ</strong>ï¼šåŸºäºè§‚çœ‹é¡ºåºçš„ç‰©å“ç›¸ä¼¼åº¦</li>\n<li><strong>å¤šç›®æ ‡ä¼˜åŒ–</strong>ï¼šå¹³è¡¡ç‚¹å‡»ç‡ã€è§‚çœ‹æ—¶é•¿ã€ç”¨æˆ·æ»¡æ„åº¦</li>\n<li><strong>å®æ—¶åé¦ˆå­¦ä¹ </strong>ï¼šæ ¹æ®ç”¨æˆ·å®æ—¶è¡Œä¸ºè°ƒæ•´æ¨è</li>\n</ul>\n<h3 id=\"éŸ³ä¹æµåª’ä½“\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#éŸ³ä¹æµåª’ä½“\"><span>éŸ³ä¹æµåª’ä½“</span></a></h3>\n<p><strong>Spotify æ­Œæ›²æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>åŸºäºæ’­æ”¾è¡Œä¸ºçš„ItemCF</strong>ï¼šåˆ†ææ­Œæ›²å…±ç°æ¨¡å¼</li>\n<li><strong>éŸ³é¢‘ç‰¹å¾èåˆ</strong>ï¼šç»“åˆéŸ³ä¹çš„å£°å­¦ç‰¹å¾</li>\n<li><strong>æƒ…å¢ƒæ„ŸçŸ¥æ¨è</strong>ï¼šè€ƒè™‘æ—¶é—´ã€åœ°ç‚¹ã€å¿ƒæƒ…ç­‰å› ç´ </li>\n</ul>\n<h2 id=\"ğŸ”§-itemcfçš„æ”¹è¿›æŠ€æœ¯\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ”§-itemcfçš„æ”¹è¿›æŠ€æœ¯\"><span>ğŸ”§ ItemCFçš„æ”¹è¿›æŠ€æœ¯</span></a></h2>\n<h3 id=\"å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ\"><span>å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ</span></a></h3>\n<p><strong>ç»¼åˆç›¸ä¼¼åº¦è®¡ç®—</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>f</mi><mi>i</mi><mi>n</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>Î±</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>C</mi><mi>F</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>Î²</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>Î³</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>e</mi><mi>m</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{final}(i,j) = \\alpha \\cdot sim_{CF}(i,j) + \\beta \\cdot sim_{content}(i,j) + \\gamma \\cdot sim_{temporal}(i,j)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal mtight\">ina</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">CF</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">co</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6389em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">or</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>C</mi><mi>F</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{CF}(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">CF</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span>ï¼šååŒè¿‡æ»¤ç›¸ä¼¼åº¦</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{content}(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">co</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span>ï¼šå†…å®¹ç›¸ä¼¼åº¦</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>e</mi><mi>m</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{temporal}(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">or</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span>ï¼šæ—¶åºç›¸ä¼¼åº¦</li>\n</ul>\n<h3 id=\"åŸºäºå›¾çš„itemcf\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#åŸºäºå›¾çš„itemcf\"><span>åŸºäºå›¾çš„ItemCF</span></a></h3>\n<p><strong>ç‰©å“å…³ç³»å›¾å»ºæ¨¡</strong>ï¼š</p>\n<Mermaid id=\"mermaid-389\" code=\"eJxLy8kvT85ILCpRCHHhUgACx2ilD/Mnb1R43rny6eRGR6VYBV1duxolAz0LpRoFJxRJJ6VYsBYnmBIzoBJnFCXOUCWOMCXmQCUuKEpcoEpcYEosgUpcUZS4QpWACTeQ1MQlCs+nrHjWsf3FlrVPdm6AOlPBHSQ3e/H7Hf0KL7avf7qvxdBKwfFR2yQnIIY5xQ2s0gNdpRFEpQsQo1inqqrwZO9+oGVPW1c83djwsrX3Reem93t6nk1f8HJOw9Peqc+717xYt+/53nVcAPPsi08=\"></Mermaid><p><strong>å›¾éšæœºæ¸¸èµ°ç®—æ³•</strong>ï¼š</p>\n<ul>\n<li><strong>PersonalRankç®—æ³•</strong>ï¼šåœ¨ç”¨æˆ·-ç‰©å“äºŒéƒ¨å›¾ä¸Šè¿›è¡Œéšæœºæ¸¸èµ°</li>\n<li><strong>SimRankç®—æ³•</strong>ï¼šåŸºäºå›¾ç»“æ„çš„ç›¸ä¼¼åº¦è®¡ç®—</li>\n<li><strong>è·¯å¾„å¤šæ ·æ€§</strong>ï¼šé€šè¿‡å¤šæ¡è·¯å¾„å¢åŠ æ¨èå¤šæ ·æ€§</li>\n</ul>\n<h3 id=\"æ·±åº¦å­¦ä¹ å¢å¼º\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#æ·±åº¦å­¦ä¹ å¢å¼º\"><span>æ·±åº¦å­¦ä¹ å¢å¼º</span></a></h3>\n<p><strong>Neural ItemCF</strong>ï¼š</p>\n<ul>\n<li><strong>ç‰©å“åµŒå…¥å­¦ä¹ </strong>ï¼šå­¦ä¹ ç‰©å“çš„ä½ç»´ç¨ å¯†è¡¨ç¤º</li>\n<li><strong>æ³¨æ„åŠ›æœºåˆ¶</strong>ï¼šåŠ¨æ€è°ƒæ•´ä¸åŒç‰©å“çš„é‡è¦æ€§æƒé‡</li>\n<li><strong>åºåˆ—å»ºæ¨¡</strong>ï¼šè€ƒè™‘ç”¨æˆ·è¡Œä¸ºçš„æ—¶åºæ€§</li>\n</ul>\n<h2 id=\"ğŸ“Š-itemcfä¸“å±ä¼˜åŒ–ç­–ç•¥\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ“Š-itemcfä¸“å±ä¼˜åŒ–ç­–ç•¥\"><span>ğŸ“Š ItemCFä¸“å±ä¼˜åŒ–ç­–ç•¥</span></a></h2>\n<h3 id=\"itemcfå…³é”®å‚æ•°è°ƒä¼˜\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#itemcfå…³é”®å‚æ•°è°ƒä¼˜\"><span>ItemCFå…³é”®å‚æ•°è°ƒä¼˜</span></a></h3>\n<p><strong>ç‰©å“ç›¸ä¼¼åº¦ä¼˜åŒ–</strong>ï¼š</p>\n<ul>\n<li><strong>ç›¸ä¼¼åº¦é˜ˆå€¼</strong>ï¼šè®¾ç½®0.1-0.2ï¼Œè¿‡æ»¤å¼±ç›¸å…³ç‰©å“</li>\n<li><strong>é‚»å±…æ•°é‡</strong>ï¼šK=10-30ï¼Œç”µå•†åœºæ™¯æ¨èè¾ƒå°å€¼</li>\n<li><strong>æ—¶é—´è¡°å‡å› å­</strong>ï¼šÎ»=0.01-0.1ï¼Œå¹³è¡¡æ–°æ—§ç‰©å“</li>\n</ul>\n<h3 id=\"itemcfç‰¹æœ‰æ”¹è¿›\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#itemcfç‰¹æœ‰æ”¹è¿›\"><span>ItemCFç‰¹æœ‰æ”¹è¿›</span></a></h3>\n<p><strong>ç‰©å“ç‰¹å¾å¢å¼º</strong>ï¼š</p>\n<ul>\n<li>ç»“åˆç‰©å“å†…å®¹ç‰¹å¾</li>\n<li>ä»·æ ¼åŒºé—´çº¦æŸ</li>\n<li>å“ç±»å±‚æ¬¡å…³ç³»</li>\n</ul>\n<p><strong>ç”¨æˆ·åå¥½å»ºæ¨¡</strong>ï¼š</p>\n<ul>\n<li>é•¿çŸ­æœŸåå¥½åˆ†ç¦»</li>\n<li>æƒ…å¢ƒæ„ŸçŸ¥æ¨è</li>\n<li>å¤šæ ·æ€§çº¦æŸä¼˜åŒ–</li>\n</ul>\n<h2 id=\"âš¡-å®æ—¶æ¨èæ¶æ„\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#âš¡-å®æ—¶æ¨èæ¶æ„\"><span>âš¡ å®æ—¶æ¨èæ¶æ„</span></a></h2>\n<h3 id=\"ç³»ç»Ÿæ¶æ„è®¾è®¡\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç³»ç»Ÿæ¶æ„è®¾è®¡\"><span>ç³»ç»Ÿæ¶æ„è®¾è®¡</span></a></h3>\n<Mermaid id=\"mermaid-508\" code=\"eJxNkMtOwkAUhvc8xUkTlryCidzk4tIdYWFMjAsTE2PiFhSQWykKiAgp1hCsCeFiQLAt8C6GMzOs8BFsh1l0FpOTnO/7z5k5v7y6Pbs4vb6Bk6AH7HOYkH5fNcChSprfTCtvFoaUBJ/vAPwJ6a9bLgKZpbGXodWclOSGn3cDTreeAVr4wVWatKfkeSwAfgXtXGUMtG9SY01sSERwOeTItSLQ9mJjWWj0afdz+zITfogzYT5ABjp9R6tBOjIWNfeAI54xAVLRmVxlozmZ3In4iNN67AGt6yQ/p3UT7xWhRjgQ5W5JuKgMsK26swN7itdhVx3ldcyxlZxtP6GhEF1DtSTsGAfizp+2dgsF2EcG8y22fiBmTyBxjhw7GZWR2ICaNaJ23Bt4vbBZru0HYFbHSWqblVnha2eVSfNt20mh3KClARuu6HLo+QeKbtA1\"></Mermaid><h3 id=\"ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥\"><span>ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥</span></a></h3>\n<p><strong>å¤šçº§ç¼“å­˜æ¶æ„</strong>ï¼š</p>\n<ol>\n<li><strong>L1ç¼“å­˜ï¼ˆRedisï¼‰</strong>ï¼šç”¨æˆ·æœ€è¿‘æ¨èç»“æœ</li>\n<li><strong>L2ç¼“å­˜ï¼ˆMemcachedï¼‰</strong>ï¼šç‰©å“ç›¸ä¼¼åº¦Top-K</li>\n<li><strong>L3å­˜å‚¨ï¼ˆHBaseï¼‰</strong>ï¼šå®Œæ•´ç›¸ä¼¼åº¦çŸ©é˜µ</li>\n</ol>\n<p><strong>ç¼“å­˜æ›´æ–°ç­–ç•¥</strong>ï¼š</p>\n<ul>\n<li><strong>TTLè¿‡æœŸ</strong>ï¼šè®¾ç½®åˆç†çš„ç¼“å­˜è¿‡æœŸæ—¶é—´</li>\n<li><strong>ä¸»åŠ¨å¤±æ•ˆ</strong>ï¼šç‰©å“ä¿¡æ¯å˜æ›´æ—¶ä¸»åŠ¨æ¸…ç†ç¼“å­˜</li>\n<li><strong>é¢„çƒ­æœºåˆ¶</strong>ï¼šé«˜é¢‘è®¿é—®æ•°æ®é¢„å…ˆåŠ è½½åˆ°ç¼“å­˜</li>\n</ul>\n<hr>\n<blockquote>\n<p>ğŸ§  <strong>æ€è€ƒé¢˜</strong></p>\n<ol>\n<li>ItemCF åœ¨å¤„ç†çƒ­é—¨å•†å“æ—¶å¯èƒ½ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿé™¤äº†&quot;çƒ­é—¨æƒ©ç½š&quot;ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ–¹æ³•å¯ä»¥ç¼“è§£ï¼Ÿ</li>\n<li>ItemCF ç›¸æ¯” UserCF çš„ä¸»è¦ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿåœ¨å“ªäº›åœºæ™¯ä¸‹ ItemCF ä¼šè¡¨ç°æ›´å¥½ï¼Ÿ</li>\n<li>å¦‚ä½•å°†ç‰©å“çš„å†…å®¹ç‰¹å¾ï¼ˆå¦‚æ–‡æœ¬æè¿°ã€å›¾ç‰‡ï¼‰èå…¥åˆ° ItemCF çš„ç›¸ä¼¼åº¦è®¡ç®—ä¸­ï¼Ÿ</li>\n<li>å®æ—¶ ItemCF ç³»ç»Ÿå¦‚ä½•è®¾è®¡ï¼Ÿå½“ç”¨æˆ·äº§ç”Ÿæ–°çš„è¡Œä¸ºæ—¶ï¼Œå¦‚ä½•å¿«é€Ÿæ›´æ–°æ¨èç»“æœï¼Ÿ</li>\n</ol>\n</blockquote>\n<p>ğŸ“– <strong>å»¶ä¼¸é˜…è¯»</strong></p>\n<ol>\n<li><a href=\"https://dl.acm.org/doi/10.1145/371920.372071\" target=\"_blank\" rel=\"noopener noreferrer\">Item-based collaborative filtering recommendation algorithms</a> - å…³äºItemCFçš„åŸå§‹è®ºæ–‡</li>\n<li><a href=\"https://link.springer.com/book/10.1007/978-1-4899-7638-9\" target=\"_blank\" rel=\"noopener noreferrer\">Recommender systems handbook</a> - ä¸€æœ¬å…³äºæ¨èç³»ç»Ÿçš„ç»¼åˆæ€§ä¹¦ç±</li>\n<li><a href=\"https://github.com/datawhalechina/torch-rechub\" target=\"_blank\" rel=\"noopener noreferrer\">Torch-RecHub: A Library for Recommender Systems</a> - ä¸€ä¸ªåŒ…å«å¤šç§æ¨¡å‹å®ç°çš„æ¨èç³»ç»Ÿå¼€æºåº“</li>\n</ol>\n<p><em>&quot;ItemCFçš„æ™ºæ…§åœ¨äºå‘ç°ç‰©å“é—´çš„å†…åœ¨è”ç³»ï¼Œè®©æ¯ä¸€æ¬¡æ¨èéƒ½æˆä¸ºç”¨æˆ·å…´è¶£çš„è‡ªç„¶å»¶ä¼¸&quot;</em></p>\n","env":{"base":"/search-rec-ads-cosmos-explorer/","filePath":"D:/softwore/user/git/work_code/WeBotDoc/docs/zh/3.ç¬¬ä¸‰ç« ï¼šæ¨èç®—æ³•--æ¯”ä½ æ›´æ‡‚ä½ çš„è´´å¿ƒå°æ£‰è¢„/1.æ¨èç®—æ³•çš„é—¨æ´¾/4.item_cf.md","filePathRelative":"zh/3.ç¬¬ä¸‰ç« ï¼šæ¨èç®—æ³•--æ¯”ä½ æ›´æ‡‚ä½ çš„è´´å¿ƒå°æ£‰è¢„/1.æ¨èç®—æ³•çš„é—¨æ´¾/4.item_cf.md","frontmatter":{"title":"åŸºäºç‰©å“çš„ååŒè¿‡æ»¤ (ItemCF)","createTime":"2025/06/05 09:34:56"},"sfcBlocks":{"template":{"type":"template","content":"<template><p>åŸºäºç‰©å“çš„ååŒè¿‡æ»¤ï¼ˆItem-based Collaborative Filtering, ItemCFï¼‰æ˜¯å¦ä¸€ç§ç»å…¸çš„ååŒè¿‡æ»¤æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒç†å¿µæ˜¯ <strong>&quot;ç‰©ä»¥ç±»èš&quot;</strong>ã€‚ä¸UserCFä¸åŒï¼ŒItemCFå…³æ³¨çš„æ˜¯ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œé€šè¿‡åˆ†æç”¨æˆ·å¯¹ç›¸ä¼¼ç‰©å“çš„åå¥½æ¥è¿›è¡Œæ¨èã€‚</p>\n<h2 id=\"ğŸ¯-itemcfçš„æ ¸å¿ƒæ€æƒ³\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ¯-itemcfçš„æ ¸å¿ƒæ€æƒ³\"><span>ğŸ¯ ItemCFçš„æ ¸å¿ƒæ€æƒ³</span></a></h2>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">ç‰©å“ç¨³å®šæ€§</p>\n<p>ç›¸æ¯”äºç”¨æˆ·åå¥½çš„å¤šå˜æ€§ï¼Œç‰©å“çš„ç‰¹å¾å’Œç”¨æˆ·å¯¹ç‰©å“çš„æ•´ä½“è¯„ä»·ç›¸å¯¹ç¨³å®šï¼Œè¿™ä½¿å¾—ItemCFåœ¨å¾ˆå¤šåœºæ™¯ä¸‹æ¯”UserCFæ›´å®ç”¨ã€‚</p>\n</div>\n<h3 id=\"ç®—æ³•ç›´è§‰\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç®—æ³•ç›´è§‰\"><span>ç®—æ³•ç›´è§‰</span></a></h3>\n<p>å½“ä½ åœ¨è´­ç‰©ç½‘ç«™ä¸Šçœ‹å•†å“æ—¶ï¼Œç»å¸¸ä¼šçœ‹åˆ°&quot;ä¹°äº†è¿™ä¸ªå•†å“çš„ç”¨æˆ·è¿˜ä¹°äº†...&quot;è¿™æ ·çš„æ¨èï¼Œè¿™å°±æ˜¯ItemCFçš„å…¸å‹åº”ç”¨ï¼š</p>\n<ol>\n<li>åˆ†æä½ å·²ç»è´­ä¹°/å–œæ¬¢çš„å•†å“</li>\n<li>æ‰¾åˆ°ä¸è¿™äº›å•†å“ç›¸ä¼¼çš„å…¶ä»–å•†å“</li>\n<li>æ¨èç›¸ä¼¼åº¦æœ€é«˜çš„å•†å“</li>\n</ol>\n<h3 id=\"æ•°å­¦è¡¨è¾¾\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#æ•°å­¦è¡¨è¾¾\"><span>æ•°å­¦è¡¨è¾¾</span></a></h3>\n<p>ItemCFé¢„æµ‹ç”¨æˆ· <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span> å¯¹ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> çš„è¯„åˆ†ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mover accent=\"true\"><mi>r</mi><mo>^</mo></mover><mrow><mi>u</mi><mo separator=\"true\">,</mo><mi>i</mi></mrow></msub><mo>=</mo><mfrac><mrow><munder><mo>âˆ‘</mo><mrow><mi>j</mi><mo>âˆˆ</mo><msub><mi>N</mi><mi>k</mi></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></munder><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>â‹…</mo><msub><mi>r</mi><mrow><mi>u</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub></mrow><mrow><munder><mo>âˆ‘</mo><mrow><mi>j</mi><mo>âˆˆ</mo><msub><mi>N</mi><mi>k</mi></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></munder><mi mathvariant=\"normal\">âˆ£</mi><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mi mathvariant=\"normal\">âˆ£</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\hat{r}_{u,i} = \\frac{\\sum_{j \\in N_k(i)} sim(i,j) \\cdot r_{u,j}}{\\sum_{j \\in N_k(i)} |sim(i,j)|}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1944em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.7754em;vertical-align:-1.1607em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.6147em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2253em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:-0.109em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1512em;\"><span></span></span></span></span></span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4747em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">âˆ£</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mord\">âˆ£</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.8647em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2253em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:-0.109em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1512em;\"><span></span></span></span></span></span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4747em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1607em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>N</mi><mi>k</mi></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">N_k(i)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">)</span></span></span></span> æ˜¯ä¸ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> æœ€ç›¸ä¼¼çš„ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> ä¸ªç‰©å“é›†åˆ</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span> æ˜¯ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> å’Œ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span> ä¹‹é—´çš„ç›¸ä¼¼åº¦</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>r</mi><mrow><mi>u</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">r_{u,j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ç”¨æˆ· <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span> å¯¹ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span> çš„è¯„åˆ†</li>\n</ul>\n<h2 id=\"ğŸ“-itemcfçš„æ ¸å¿ƒç®—æ³•\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ“-itemcfçš„æ ¸å¿ƒç®—æ³•\"><span>ğŸ“ ItemCFçš„æ ¸å¿ƒç®—æ³•</span></a></h2>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">å‚è€ƒååŒè¿‡æ»¤æ€»è§ˆ</p>\n<p>è¯¦ç»†çš„ç›¸ä¼¼åº¦è®¡ç®—æ–¹æ³•è¯·å‚è€ƒ <RouteLink to=\"/zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.html#%E7%9B%B8%E4%BC%BC%E5%BA%A6%E5%BA%A6%E9%87%8F%E6%96%B9%E6%B3%95%E8%AF%A6%E7%BB%86%E5%AF%B9%E6%AF%94\">ååŒè¿‡æ»¤æ€»è§ˆ</RouteLink> ä¸­çš„å®Œæ•´å¯¹æ¯”åˆ†æã€‚</p>\n</div>\n<p>ItemCFåœ¨ç‰©å“ç›¸ä¼¼åº¦è®¡ç®—ä¸Šçš„ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li><strong>éšå¼åé¦ˆ</strong>ï¼šä½™å¼¦ç›¸ä¼¼åº¦è¡¨ç°æœ€ä½³</li>\n<li><strong>æ˜¾å¼è¯„åˆ†</strong>ï¼šè°ƒæ•´ä½™å¼¦ç›¸ä¼¼åº¦æ›´å‡†ç¡®</li>\n<li><strong>å¤§è§„æ¨¡ç³»ç»Ÿ</strong>ï¼šæ°å¡å¾·ç³»æ•°è®¡ç®—æ•ˆç‡é«˜</li>\n</ul>\n<h2 id=\"ğŸ’»-itemcfç®—æ³•å®ç°\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ’»-itemcfç®—æ³•å®ç°\"><span>ğŸ’» ItemCFç®—æ³•å®ç°</span></a></h2>\n<details class=\"hint-container details\"><summary>ItemCFæ ¸å¿ƒç®—æ³•æ¡†æ¶</summary>\n<div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-python\"><span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">import</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> numpy </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">from</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> sklearn</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">metrics</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">pairwise </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">import</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> cosine_similarity</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">class</span><span style=\"--shiki-light:#2E8F82;--shiki-dark:#5DA994\"> ItemBasedCF</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> __init__</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> k_neighbors</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">20</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> similarity_method</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">cosine</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">k_neighbors </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> k_neighbors</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> similarity_method</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> None</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\"> fit</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">        \"\"\"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">è®­ç»ƒItemCFæ¨¡å‹</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">copy</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # è®¡ç®—ç‰©å“ç›¸ä¼¼åº¦çŸ©é˜µ</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        if</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">==</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">cosine</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">            # è½¬ç½®ä¸ºç‰©å“Ã—ç”¨æˆ·çŸ©é˜µï¼Œè®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">            item_user_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">T</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">            self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> cosine_similarity</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_user_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        elif</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">==</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">adjusted_cosine</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">            self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">_adjusted_cosine_similarity</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        else</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">            raise</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> ValueError</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">f</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\"Unknown similarity method: </span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">{self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">}</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\"</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\"> predict_rating</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">        \"\"\"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">é¢„æµ‹ç”¨æˆ·å¯¹ç‰©å“çš„è¯„åˆ†</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        user_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        item_similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # æ‰¾åˆ°ç”¨æˆ·å·²è¯„åˆ†çš„ç‰©å“</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        rated_items </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">where</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)[</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        if</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> len</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rated_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> ==</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">            return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mean</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[:,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">][</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[:,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> ></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">])</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">            </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # é€‰æ‹©æœ€ç›¸ä¼¼çš„kä¸ªç‰©å“</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rated_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        top_k_indices </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">argsort</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)[</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">-</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">k_neighbors</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        top_similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">top_k_indices</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        top_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rated_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">top_k_indices</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # è¿‡æ»¤æ‰ç›¸ä¼¼åº¦ä¸º0çš„ç‰©å“</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        valid_mask </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> top_similarities </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        if</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sum</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_mask</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> ==</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">            return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mean</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">])</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">            </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # è®¡ç®—åŠ æƒå¹³å‡</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        valid_similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> top_similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_mask</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        valid_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> top_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_mask</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        predicted_rating </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sum</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_similarities </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">*</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> valid_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> /</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sum</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">clip</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">predicted_rating</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 1</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 5</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\"> recommend_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> n_recommendations</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">10</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">        \"\"\"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">ä¸ºç”¨æˆ·æ¨èç‰©å“</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        user_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        candidate_items </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">where</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">==</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)[</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        predictions </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\"> [(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">predict_rating</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">))</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">                      for</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">in</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> candidate_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        predictions</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sort</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">key</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">lambda</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> x</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> x</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">1</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">],</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\"> reverse</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">True</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> predictions</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[:</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">n_recommendations</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2 id=\"ğŸ¯-itemcfçš„ç‹¬ç‰¹ä¼˜åŠ¿\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ¯-itemcfçš„ç‹¬ç‰¹ä¼˜åŠ¿\"><span>ğŸ¯ ItemCFçš„ç‹¬ç‰¹ä¼˜åŠ¿</span></a></h2>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">å¯¹æ¯”åˆ†æå‚è€ƒ</p>\n<p>UserCFä¸ItemCFçš„è¯¦ç»†å¯¹æ¯”åˆ†æè¯·å‚è€ƒ <RouteLink to=\"/zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.html#usercf-vs-itemcf-%E5%85%A8%E9%9D%A2%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90\">ååŒè¿‡æ»¤æ€»è§ˆ</RouteLink> ä¸­çš„å…¨é¢åˆ†æã€‚</p>\n</div>\n<h3 id=\"itemcfçš„æ ¸å¿ƒä¼˜åŠ¿\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#itemcfçš„æ ¸å¿ƒä¼˜åŠ¿\"><span>ItemCFçš„æ ¸å¿ƒä¼˜åŠ¿</span></a></h3>\n<p><strong>ç¨³å®šæ€§ä¼˜åŠ¿</strong>ï¼š</p>\n<ul>\n<li>ç‰©å“å±æ€§ç›¸å¯¹ç¨³å®šï¼Œç›¸ä¼¼åº¦çŸ©é˜µæ›´æ–°é¢‘ç‡ä½</li>\n<li>é€‚åˆç‰©å“åº“ç›¸å¯¹å›ºå®šçš„ç”µå•†ã€æ•™è‚²ç­‰åœºæ™¯</li>\n</ul>\n<p><strong>è®¡ç®—æ•ˆç‡</strong>ï¼š</p>\n<ul>\n<li>å¯ä»¥ç¦»çº¿é¢„è®¡ç®—ç‰©å“ç›¸ä¼¼åº¦çŸ©é˜µ</li>\n<li>å®æ—¶æ¨èå“åº”é€Ÿåº¦å¿«</li>\n</ul>\n<p><strong>å·¥ç¨‹å®ç°ä¼˜åŠ¿</strong>ï¼š</p>\n<ul>\n<li>æ›´å®¹æ˜“è¿›è¡Œç¼“å­˜ä¼˜åŒ–</li>\n<li>åˆ†å¸ƒå¼è®¡ç®—å‹å¥½</li>\n</ul>\n<h2 id=\"ğŸš€-itemcfçš„ä¼˜åŒ–ç­–ç•¥\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸš€-itemcfçš„ä¼˜åŒ–ç­–ç•¥\"><span>ğŸš€ ItemCFçš„ä¼˜åŒ–ç­–ç•¥</span></a></h2>\n<h3 id=\"ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–\"><span>ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–</span></a></h3>\n<p><strong>1. å…±ç°çŸ©é˜µä¼˜åŒ–</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>C</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi mathvariant=\"normal\">âˆ£</mi><msub><mi>U</mi><mi>i</mi></msub><mo>âˆ©</mo><msub><mi>U</mi><mi>j</mi></msub><mi mathvariant=\"normal\">âˆ£</mi></mrow><annotation encoding=\"application/x-tex\">C_{ij} = |U_i \\cap U_j|\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">ij</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">âˆ£</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">âˆ©</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\">âˆ£</span></span></span></span></span></p>\n<p>å…¶ä¸­ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>U</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">U_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯è´­ä¹°/è¯„åˆ†ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> çš„ç”¨æˆ·é›†åˆã€‚</p>\n<p><strong>2. æƒ©ç½šçƒ­é—¨ç‰©å“</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>s</mi><mi>i</mi><msup><mi>m</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><mrow><mi>log</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><mi mathvariant=\"normal\">âˆ£</mi><msub><mi>U</mi><mi>j</mi></msub><mi mathvariant=\"normal\">âˆ£</mi><mo stretchy=\"false\">)</mo></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">sim&#x27;(i,j) = \\frac{sim(i,j)}{\\log(1 + |U_j|)}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0519em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8019em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.3991em;vertical-align:-0.9721em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">âˆ£</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\">âˆ£</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9721em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>é˜²æ­¢çƒ­é—¨ç‰©å“ä¸»å¯¼ç›¸ä¼¼åº¦è®¡ç®—ã€‚</p>\n<p><strong>3. æ—¶é—´è¡°å‡å› å­</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>â‹…</mo><mi>exp</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mo>âˆ’</mo><mi>Î»</mi><mo>â‹…</mo><mi mathvariant=\"normal\">Î”</mi><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{time}(i,j) = sim(i,j) \\cdot \\exp(-\\lambda \\cdot \\Delta t)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">im</span><span class=\"mord mathnormal mtight\">e</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">exp</span><span class=\"mopen\">(</span><span class=\"mord\">âˆ’</span><span class=\"mord mathnormal\">Î»</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">Î”</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å¯¹å†å²æ•°æ®è¿›è¡Œæ—¶é—´è¡°å‡ã€‚</p>\n<h3 id=\"å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–\"><span>å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–</span></a></h3>\n<table>\n<thead>\n<tr>\n<th>ä¼˜åŒ–æ–¹æ³•</th>\n<th>æŠ€æœ¯æ‰‹æ®µ</th>\n<th>é€‚ç”¨åœºæ™¯</th>\n<th>æ•ˆæœ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>ç¨€ç–å­˜å‚¨</strong></td>\n<td>scipy.sparse.csr_matrix</td>\n<td>å¤§è§„æ¨¡ç¨€ç–çŸ©é˜µ</td>\n<td>èŠ‚çœ90%+å†…å­˜</td>\n</tr>\n<tr>\n<td><strong>Top-Kæˆªæ–­</strong></td>\n<td>åªå­˜å‚¨ç›¸ä¼¼åº¦æœ€é«˜çš„Kä¸ªç‰©å“</td>\n<td>å®æ—¶æ¨è</td>\n<td>æå‡æŸ¥è¯¢é€Ÿåº¦</td>\n</tr>\n<tr>\n<td><strong>åˆ†å—è®¡ç®—</strong></td>\n<td>å°†ç‰©å“çŸ©é˜µåˆ†å—å¹¶è¡Œè®¡ç®—</td>\n<td>è¶…å¤§è§„æ¨¡æ•°æ®</td>\n<td>çº¿æ€§æ‰©å±•èƒ½åŠ›</td>\n</tr>\n<tr>\n<td><strong>å¢é‡æ›´æ–°</strong></td>\n<td>åªæ›´æ–°æ–°å¢/å˜åŒ–çš„ç‰©å“å¯¹</td>\n<td>åŠ¨æ€æ•°æ®</td>\n<td>é™ä½æ›´æ–°æˆæœ¬</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ğŸ¯-åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ¯-åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ\"><span>ğŸ¯ åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ</span></a></h2>\n<h3 id=\"ç”µå•†æ¨èç³»ç»Ÿ\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç”µå•†æ¨èç³»ç»Ÿ\"><span>ç”µå•†æ¨èç³»ç»Ÿ</span></a></h3>\n<p><strong>Amazon å•†å“æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>&quot;è´­ä¹°äº†Açš„ç”¨æˆ·è¿˜è´­ä¹°äº†B&quot;</strong>ï¼šç»å…¸ItemCFåº”ç”¨</li>\n<li><strong>å•†å“ç›¸ä¼¼åº¦é¢„è®¡ç®—</strong>ï¼šç¦»çº¿è®¡ç®—å•†å“ç›¸ä¼¼åº¦çŸ©é˜µ</li>\n<li><strong>å¤šé‡è¿‡æ»¤æœºåˆ¶</strong>ï¼šä»·æ ¼åŒºé—´ã€å“ç±»çº¦æŸã€åº“å­˜çŠ¶æ€</li>\n</ul>\n<p><strong>æŠ€æœ¯ç»†èŠ‚</strong>ï¼š</p>\n<Mermaid id=\"mermaid-286\" code=\"eJxNkM1Kw0AUhfd9ikuhy76CYO2Piiu3xYUI4kIQRHAbS1Nr28RiGtPWkhoQG0EjFcTYpO27SO7MZFUfwcxkhM7icuF859zDHJ+eXR6dHJ5fwN5+BpK3Wc3+jo0W0J5Lml/M6UT+LHsA+fwGFLhk1Vb+LdDxS9z/JHYdg0QVxi1hbAOaDTSucGoTZSKNRSF1ARsqet/0wY/CEGfP0ihGQYClavZneC8O/EPMc6hnSbSYUmIvib3Mo+8WshC+9bHmrueWBVXhuQ4Q3WVaF0OTGLqEtrky4Bcjf4gth03q2BzI3js8vKcBDQxij9jymgRP0ldJATF3Oaa/y/gUXu+Qy0E0XyYfiqqLUyVWNXbzsQo7xHqMRwpqJm2/Mm9B517mDwSLuUU=\"></Mermaid><h3 id=\"å†…å®¹æ¨èå¹³å°\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#å†…å®¹æ¨èå¹³å°\"><span>å†…å®¹æ¨èå¹³å°</span></a></h3>\n<p><strong>Netflix ç”µå½±æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>åŸºäºè§‚çœ‹å†å²çš„ItemCF</strong>ï¼šåˆ†æè§‚çœ‹è¡Œä¸ºç›¸ä¼¼æ€§</li>\n<li><strong>å¤šç»´åº¦ç‰¹å¾èåˆ</strong>ï¼šç»“åˆç”µå½±ç±»å‹ã€å¯¼æ¼”ã€æ¼”å‘˜ç­‰</li>\n<li><strong>ä¸ªæ€§åŒ–æƒé‡è°ƒæ•´</strong>ï¼šæ ¹æ®ç”¨æˆ·ç”»åƒè°ƒæ•´æ¨èæƒé‡</li>\n</ul>\n<p><strong>YouTube è§†é¢‘æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>è§‚çœ‹åºåˆ—åˆ†æ</strong>ï¼šåŸºäºè§‚çœ‹é¡ºåºçš„ç‰©å“ç›¸ä¼¼åº¦</li>\n<li><strong>å¤šç›®æ ‡ä¼˜åŒ–</strong>ï¼šå¹³è¡¡ç‚¹å‡»ç‡ã€è§‚çœ‹æ—¶é•¿ã€ç”¨æˆ·æ»¡æ„åº¦</li>\n<li><strong>å®æ—¶åé¦ˆå­¦ä¹ </strong>ï¼šæ ¹æ®ç”¨æˆ·å®æ—¶è¡Œä¸ºè°ƒæ•´æ¨è</li>\n</ul>\n<h3 id=\"éŸ³ä¹æµåª’ä½“\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#éŸ³ä¹æµåª’ä½“\"><span>éŸ³ä¹æµåª’ä½“</span></a></h3>\n<p><strong>Spotify æ­Œæ›²æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>åŸºäºæ’­æ”¾è¡Œä¸ºçš„ItemCF</strong>ï¼šåˆ†ææ­Œæ›²å…±ç°æ¨¡å¼</li>\n<li><strong>éŸ³é¢‘ç‰¹å¾èåˆ</strong>ï¼šç»“åˆéŸ³ä¹çš„å£°å­¦ç‰¹å¾</li>\n<li><strong>æƒ…å¢ƒæ„ŸçŸ¥æ¨è</strong>ï¼šè€ƒè™‘æ—¶é—´ã€åœ°ç‚¹ã€å¿ƒæƒ…ç­‰å› ç´ </li>\n</ul>\n<h2 id=\"ğŸ”§-itemcfçš„æ”¹è¿›æŠ€æœ¯\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ”§-itemcfçš„æ”¹è¿›æŠ€æœ¯\"><span>ğŸ”§ ItemCFçš„æ”¹è¿›æŠ€æœ¯</span></a></h2>\n<h3 id=\"å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ\"><span>å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ</span></a></h3>\n<p><strong>ç»¼åˆç›¸ä¼¼åº¦è®¡ç®—</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>f</mi><mi>i</mi><mi>n</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>Î±</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>C</mi><mi>F</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>Î²</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>Î³</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>e</mi><mi>m</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{final}(i,j) = \\alpha \\cdot sim_{CF}(i,j) + \\beta \\cdot sim_{content}(i,j) + \\gamma \\cdot sim_{temporal}(i,j)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal mtight\">ina</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">CF</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">co</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6389em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">or</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>C</mi><mi>F</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{CF}(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">CF</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span>ï¼šååŒè¿‡æ»¤ç›¸ä¼¼åº¦</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{content}(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">co</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span>ï¼šå†…å®¹ç›¸ä¼¼åº¦</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>e</mi><mi>m</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{temporal}(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">or</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span>ï¼šæ—¶åºç›¸ä¼¼åº¦</li>\n</ul>\n<h3 id=\"åŸºäºå›¾çš„itemcf\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#åŸºäºå›¾çš„itemcf\"><span>åŸºäºå›¾çš„ItemCF</span></a></h3>\n<p><strong>ç‰©å“å…³ç³»å›¾å»ºæ¨¡</strong>ï¼š</p>\n<Mermaid id=\"mermaid-389\" code=\"eJxLy8kvT85ILCpRCHHhUgACx2ilD/Mnb1R43rny6eRGR6VYBV1duxolAz0LpRoFJxRJJ6VYsBYnmBIzoBJnFCXOUCWOMCXmQCUuKEpcoEpcYEosgUpcUZS4QpWACTeQ1MQlCs+nrHjWsf3FlrVPdm6AOlPBHSQ3e/H7Hf0KL7avf7qvxdBKwfFR2yQnIIY5xQ2s0gNdpRFEpQsQo1inqqrwZO9+oGVPW1c83djwsrX3Reem93t6nk1f8HJOw9Peqc+717xYt+/53nVcAPPsi08=\"></Mermaid><p><strong>å›¾éšæœºæ¸¸èµ°ç®—æ³•</strong>ï¼š</p>\n<ul>\n<li><strong>PersonalRankç®—æ³•</strong>ï¼šåœ¨ç”¨æˆ·-ç‰©å“äºŒéƒ¨å›¾ä¸Šè¿›è¡Œéšæœºæ¸¸èµ°</li>\n<li><strong>SimRankç®—æ³•</strong>ï¼šåŸºäºå›¾ç»“æ„çš„ç›¸ä¼¼åº¦è®¡ç®—</li>\n<li><strong>è·¯å¾„å¤šæ ·æ€§</strong>ï¼šé€šè¿‡å¤šæ¡è·¯å¾„å¢åŠ æ¨èå¤šæ ·æ€§</li>\n</ul>\n<h3 id=\"æ·±åº¦å­¦ä¹ å¢å¼º\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#æ·±åº¦å­¦ä¹ å¢å¼º\"><span>æ·±åº¦å­¦ä¹ å¢å¼º</span></a></h3>\n<p><strong>Neural ItemCF</strong>ï¼š</p>\n<ul>\n<li><strong>ç‰©å“åµŒå…¥å­¦ä¹ </strong>ï¼šå­¦ä¹ ç‰©å“çš„ä½ç»´ç¨ å¯†è¡¨ç¤º</li>\n<li><strong>æ³¨æ„åŠ›æœºåˆ¶</strong>ï¼šåŠ¨æ€è°ƒæ•´ä¸åŒç‰©å“çš„é‡è¦æ€§æƒé‡</li>\n<li><strong>åºåˆ—å»ºæ¨¡</strong>ï¼šè€ƒè™‘ç”¨æˆ·è¡Œä¸ºçš„æ—¶åºæ€§</li>\n</ul>\n<h2 id=\"ğŸ“Š-itemcfä¸“å±ä¼˜åŒ–ç­–ç•¥\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ“Š-itemcfä¸“å±ä¼˜åŒ–ç­–ç•¥\"><span>ğŸ“Š ItemCFä¸“å±ä¼˜åŒ–ç­–ç•¥</span></a></h2>\n<h3 id=\"itemcfå…³é”®å‚æ•°è°ƒä¼˜\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#itemcfå…³é”®å‚æ•°è°ƒä¼˜\"><span>ItemCFå…³é”®å‚æ•°è°ƒä¼˜</span></a></h3>\n<p><strong>ç‰©å“ç›¸ä¼¼åº¦ä¼˜åŒ–</strong>ï¼š</p>\n<ul>\n<li><strong>ç›¸ä¼¼åº¦é˜ˆå€¼</strong>ï¼šè®¾ç½®0.1-0.2ï¼Œè¿‡æ»¤å¼±ç›¸å…³ç‰©å“</li>\n<li><strong>é‚»å±…æ•°é‡</strong>ï¼šK=10-30ï¼Œç”µå•†åœºæ™¯æ¨èè¾ƒå°å€¼</li>\n<li><strong>æ—¶é—´è¡°å‡å› å­</strong>ï¼šÎ»=0.01-0.1ï¼Œå¹³è¡¡æ–°æ—§ç‰©å“</li>\n</ul>\n<h3 id=\"itemcfç‰¹æœ‰æ”¹è¿›\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#itemcfç‰¹æœ‰æ”¹è¿›\"><span>ItemCFç‰¹æœ‰æ”¹è¿›</span></a></h3>\n<p><strong>ç‰©å“ç‰¹å¾å¢å¼º</strong>ï¼š</p>\n<ul>\n<li>ç»“åˆç‰©å“å†…å®¹ç‰¹å¾</li>\n<li>ä»·æ ¼åŒºé—´çº¦æŸ</li>\n<li>å“ç±»å±‚æ¬¡å…³ç³»</li>\n</ul>\n<p><strong>ç”¨æˆ·åå¥½å»ºæ¨¡</strong>ï¼š</p>\n<ul>\n<li>é•¿çŸ­æœŸåå¥½åˆ†ç¦»</li>\n<li>æƒ…å¢ƒæ„ŸçŸ¥æ¨è</li>\n<li>å¤šæ ·æ€§çº¦æŸä¼˜åŒ–</li>\n</ul>\n<h2 id=\"âš¡-å®æ—¶æ¨èæ¶æ„\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#âš¡-å®æ—¶æ¨èæ¶æ„\"><span>âš¡ å®æ—¶æ¨èæ¶æ„</span></a></h2>\n<h3 id=\"ç³»ç»Ÿæ¶æ„è®¾è®¡\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç³»ç»Ÿæ¶æ„è®¾è®¡\"><span>ç³»ç»Ÿæ¶æ„è®¾è®¡</span></a></h3>\n<Mermaid id=\"mermaid-508\" code=\"eJxNkMtOwkAUhvc8xUkTlryCidzk4tIdYWFMjAsTE2PiFhSQWykKiAgp1hCsCeFiQLAt8C6GMzOs8BFsh1l0FpOTnO/7z5k5v7y6Pbs4vb6Bk6AH7HOYkH5fNcChSprfTCtvFoaUBJ/vAPwJ6a9bLgKZpbGXodWclOSGn3cDTreeAVr4wVWatKfkeSwAfgXtXGUMtG9SY01sSERwOeTItSLQ9mJjWWj0afdz+zITfogzYT5ABjp9R6tBOjIWNfeAI54xAVLRmVxlozmZ3In4iNN67AGt6yQ/p3UT7xWhRjgQ5W5JuKgMsK26swN7itdhVx3ldcyxlZxtP6GhEF1DtSTsGAfizp+2dgsF2EcG8y22fiBmTyBxjhw7GZWR2ICaNaJ23Bt4vbBZru0HYFbHSWqblVnha2eVSfNt20mh3KClARuu6HLo+QeKbtA1\"></Mermaid><h3 id=\"ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥\"><span>ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥</span></a></h3>\n<p><strong>å¤šçº§ç¼“å­˜æ¶æ„</strong>ï¼š</p>\n<ol>\n<li><strong>L1ç¼“å­˜ï¼ˆRedisï¼‰</strong>ï¼šç”¨æˆ·æœ€è¿‘æ¨èç»“æœ</li>\n<li><strong>L2ç¼“å­˜ï¼ˆMemcachedï¼‰</strong>ï¼šç‰©å“ç›¸ä¼¼åº¦Top-K</li>\n<li><strong>L3å­˜å‚¨ï¼ˆHBaseï¼‰</strong>ï¼šå®Œæ•´ç›¸ä¼¼åº¦çŸ©é˜µ</li>\n</ol>\n<p><strong>ç¼“å­˜æ›´æ–°ç­–ç•¥</strong>ï¼š</p>\n<ul>\n<li><strong>TTLè¿‡æœŸ</strong>ï¼šè®¾ç½®åˆç†çš„ç¼“å­˜è¿‡æœŸæ—¶é—´</li>\n<li><strong>ä¸»åŠ¨å¤±æ•ˆ</strong>ï¼šç‰©å“ä¿¡æ¯å˜æ›´æ—¶ä¸»åŠ¨æ¸…ç†ç¼“å­˜</li>\n<li><strong>é¢„çƒ­æœºåˆ¶</strong>ï¼šé«˜é¢‘è®¿é—®æ•°æ®é¢„å…ˆåŠ è½½åˆ°ç¼“å­˜</li>\n</ul>\n<hr>\n<blockquote>\n<p>ğŸ§  <strong>æ€è€ƒé¢˜</strong></p>\n<ol>\n<li>ItemCF åœ¨å¤„ç†çƒ­é—¨å•†å“æ—¶å¯èƒ½ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿé™¤äº†&quot;çƒ­é—¨æƒ©ç½š&quot;ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ–¹æ³•å¯ä»¥ç¼“è§£ï¼Ÿ</li>\n<li>ItemCF ç›¸æ¯” UserCF çš„ä¸»è¦ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿåœ¨å“ªäº›åœºæ™¯ä¸‹ ItemCF ä¼šè¡¨ç°æ›´å¥½ï¼Ÿ</li>\n<li>å¦‚ä½•å°†ç‰©å“çš„å†…å®¹ç‰¹å¾ï¼ˆå¦‚æ–‡æœ¬æè¿°ã€å›¾ç‰‡ï¼‰èå…¥åˆ° ItemCF çš„ç›¸ä¼¼åº¦è®¡ç®—ä¸­ï¼Ÿ</li>\n<li>å®æ—¶ ItemCF ç³»ç»Ÿå¦‚ä½•è®¾è®¡ï¼Ÿå½“ç”¨æˆ·äº§ç”Ÿæ–°çš„è¡Œä¸ºæ—¶ï¼Œå¦‚ä½•å¿«é€Ÿæ›´æ–°æ¨èç»“æœï¼Ÿ</li>\n</ol>\n</blockquote>\n<p>ğŸ“– <strong>å»¶ä¼¸é˜…è¯»</strong></p>\n<ol>\n<li><a href=\"https://dl.acm.org/doi/10.1145/371920.372071\" target=\"_blank\" rel=\"noopener noreferrer\">Item-based collaborative filtering recommendation algorithms</a> - å…³äºItemCFçš„åŸå§‹è®ºæ–‡</li>\n<li><a href=\"https://link.springer.com/book/10.1007/978-1-4899-7638-9\" target=\"_blank\" rel=\"noopener noreferrer\">Recommender systems handbook</a> - ä¸€æœ¬å…³äºæ¨èç³»ç»Ÿçš„ç»¼åˆæ€§ä¹¦ç±</li>\n<li><a href=\"https://github.com/datawhalechina/torch-rechub\" target=\"_blank\" rel=\"noopener noreferrer\">Torch-RecHub: A Library for Recommender Systems</a> - ä¸€ä¸ªåŒ…å«å¤šç§æ¨¡å‹å®ç°çš„æ¨èç³»ç»Ÿå¼€æºåº“</li>\n</ol>\n<p><em>&quot;ItemCFçš„æ™ºæ…§åœ¨äºå‘ç°ç‰©å“é—´çš„å†…åœ¨è”ç³»ï¼Œè®©æ¯ä¸€æ¬¡æ¨èéƒ½æˆä¸ºç”¨æˆ·å…´è¶£çš„è‡ªç„¶å»¶ä¼¸&quot;</em></p>\n</template>","contentStripped":"<p>åŸºäºç‰©å“çš„ååŒè¿‡æ»¤ï¼ˆItem-based Collaborative Filtering, ItemCFï¼‰æ˜¯å¦ä¸€ç§ç»å…¸çš„ååŒè¿‡æ»¤æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒç†å¿µæ˜¯ <strong>&quot;ç‰©ä»¥ç±»èš&quot;</strong>ã€‚ä¸UserCFä¸åŒï¼ŒItemCFå…³æ³¨çš„æ˜¯ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œé€šè¿‡åˆ†æç”¨æˆ·å¯¹ç›¸ä¼¼ç‰©å“çš„åå¥½æ¥è¿›è¡Œæ¨èã€‚</p>\n<h2 id=\"ğŸ¯-itemcfçš„æ ¸å¿ƒæ€æƒ³\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ¯-itemcfçš„æ ¸å¿ƒæ€æƒ³\"><span>ğŸ¯ ItemCFçš„æ ¸å¿ƒæ€æƒ³</span></a></h2>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">ç‰©å“ç¨³å®šæ€§</p>\n<p>ç›¸æ¯”äºç”¨æˆ·åå¥½çš„å¤šå˜æ€§ï¼Œç‰©å“çš„ç‰¹å¾å’Œç”¨æˆ·å¯¹ç‰©å“çš„æ•´ä½“è¯„ä»·ç›¸å¯¹ç¨³å®šï¼Œè¿™ä½¿å¾—ItemCFåœ¨å¾ˆå¤šåœºæ™¯ä¸‹æ¯”UserCFæ›´å®ç”¨ã€‚</p>\n</div>\n<h3 id=\"ç®—æ³•ç›´è§‰\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç®—æ³•ç›´è§‰\"><span>ç®—æ³•ç›´è§‰</span></a></h3>\n<p>å½“ä½ åœ¨è´­ç‰©ç½‘ç«™ä¸Šçœ‹å•†å“æ—¶ï¼Œç»å¸¸ä¼šçœ‹åˆ°&quot;ä¹°äº†è¿™ä¸ªå•†å“çš„ç”¨æˆ·è¿˜ä¹°äº†...&quot;è¿™æ ·çš„æ¨èï¼Œè¿™å°±æ˜¯ItemCFçš„å…¸å‹åº”ç”¨ï¼š</p>\n<ol>\n<li>åˆ†æä½ å·²ç»è´­ä¹°/å–œæ¬¢çš„å•†å“</li>\n<li>æ‰¾åˆ°ä¸è¿™äº›å•†å“ç›¸ä¼¼çš„å…¶ä»–å•†å“</li>\n<li>æ¨èç›¸ä¼¼åº¦æœ€é«˜çš„å•†å“</li>\n</ol>\n<h3 id=\"æ•°å­¦è¡¨è¾¾\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#æ•°å­¦è¡¨è¾¾\"><span>æ•°å­¦è¡¨è¾¾</span></a></h3>\n<p>ItemCFé¢„æµ‹ç”¨æˆ· <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span> å¯¹ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> çš„è¯„åˆ†ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mover accent=\"true\"><mi>r</mi><mo>^</mo></mover><mrow><mi>u</mi><mo separator=\"true\">,</mo><mi>i</mi></mrow></msub><mo>=</mo><mfrac><mrow><munder><mo>âˆ‘</mo><mrow><mi>j</mi><mo>âˆˆ</mo><msub><mi>N</mi><mi>k</mi></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></munder><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>â‹…</mo><msub><mi>r</mi><mrow><mi>u</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub></mrow><mrow><munder><mo>âˆ‘</mo><mrow><mi>j</mi><mo>âˆˆ</mo><msub><mi>N</mi><mi>k</mi></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></munder><mi mathvariant=\"normal\">âˆ£</mi><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mi mathvariant=\"normal\">âˆ£</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\hat{r}_{u,i} = \\frac{\\sum_{j \\in N_k(i)} sim(i,j) \\cdot r_{u,j}}{\\sum_{j \\in N_k(i)} |sim(i,j)|}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1944em;\"><span class=\"mord\">^</span></span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.7754em;vertical-align:-1.1607em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.6147em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2253em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:-0.109em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1512em;\"><span></span></span></span></span></span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4747em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">âˆ£</span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mord\">âˆ£</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.8647em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">âˆ‘</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2253em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span><span class=\"mrel mtight\">âˆˆ</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:-0.109em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1512em;\"><span></span></span></span></span></span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">i</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4747em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1607em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>N</mi><mi>k</mi></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">N_k(i)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">)</span></span></span></span> æ˜¯ä¸ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> æœ€ç›¸ä¼¼çš„ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> ä¸ªç‰©å“é›†åˆ</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span> æ˜¯ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> å’Œ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span> ä¹‹é—´çš„ç›¸ä¼¼åº¦</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>r</mi><mrow><mi>u</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">r_{u,j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ç”¨æˆ· <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span> å¯¹ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.854em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span></span></span></span> çš„è¯„åˆ†</li>\n</ul>\n<h2 id=\"ğŸ“-itemcfçš„æ ¸å¿ƒç®—æ³•\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ“-itemcfçš„æ ¸å¿ƒç®—æ³•\"><span>ğŸ“ ItemCFçš„æ ¸å¿ƒç®—æ³•</span></a></h2>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">å‚è€ƒååŒè¿‡æ»¤æ€»è§ˆ</p>\n<p>è¯¦ç»†çš„ç›¸ä¼¼åº¦è®¡ç®—æ–¹æ³•è¯·å‚è€ƒ <RouteLink to=\"/zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.html#%E7%9B%B8%E4%BC%BC%E5%BA%A6%E5%BA%A6%E9%87%8F%E6%96%B9%E6%B3%95%E8%AF%A6%E7%BB%86%E5%AF%B9%E6%AF%94\">ååŒè¿‡æ»¤æ€»è§ˆ</RouteLink> ä¸­çš„å®Œæ•´å¯¹æ¯”åˆ†æã€‚</p>\n</div>\n<p>ItemCFåœ¨ç‰©å“ç›¸ä¼¼åº¦è®¡ç®—ä¸Šçš„ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li><strong>éšå¼åé¦ˆ</strong>ï¼šä½™å¼¦ç›¸ä¼¼åº¦è¡¨ç°æœ€ä½³</li>\n<li><strong>æ˜¾å¼è¯„åˆ†</strong>ï¼šè°ƒæ•´ä½™å¼¦ç›¸ä¼¼åº¦æ›´å‡†ç¡®</li>\n<li><strong>å¤§è§„æ¨¡ç³»ç»Ÿ</strong>ï¼šæ°å¡å¾·ç³»æ•°è®¡ç®—æ•ˆç‡é«˜</li>\n</ul>\n<h2 id=\"ğŸ’»-itemcfç®—æ³•å®ç°\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ’»-itemcfç®—æ³•å®ç°\"><span>ğŸ’» ItemCFç®—æ³•å®ç°</span></a></h2>\n<details class=\"hint-container details\"><summary>ItemCFæ ¸å¿ƒç®—æ³•æ¡†æ¶</summary>\n<div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-python\"><span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">import</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> numpy </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">as</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">from</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> sklearn</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">metrics</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">pairwise </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">import</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> cosine_similarity</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">class</span><span style=\"--shiki-light:#2E8F82;--shiki-dark:#5DA994\"> ItemBasedCF</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> __init__</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> k_neighbors</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">20</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> similarity_method</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">cosine</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">k_neighbors </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> k_neighbors</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> similarity_method</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> None</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\"> fit</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">        \"\"\"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">è®­ç»ƒItemCFæ¨¡å‹</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">        self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">copy</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # è®¡ç®—ç‰©å“ç›¸ä¼¼åº¦çŸ©é˜µ</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        if</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">==</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">cosine</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">            # è½¬ç½®ä¸ºç‰©å“Ã—ç”¨æˆ·çŸ©é˜µï¼Œè®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">            item_user_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">T</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">            self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> cosine_similarity</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_user_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        elif</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">==</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">adjusted_cosine</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">            self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">_adjusted_cosine_similarity</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        else</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">            raise</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> ValueError</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">f</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\"Unknown similarity method: </span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">{self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarity_method</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">}</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">\"</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\"> predict_rating</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">        \"\"\"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">é¢„æµ‹ç”¨æˆ·å¯¹ç‰©å“çš„è¯„åˆ†</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        user_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        item_similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_similarity_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # æ‰¾åˆ°ç”¨æˆ·å·²è¯„åˆ†çš„ç‰©å“</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        rated_items </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">where</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)[</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        if</span><span style=\"--shiki-light:#998418;--shiki-dark:#B8A965\"> len</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rated_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> ==</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">            return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mean</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[:,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">][</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[:,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> ></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">])</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">            </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # é€‰æ‹©æœ€ç›¸ä¼¼çš„kä¸ªç‰©å“</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rated_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        top_k_indices </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">argsort</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)[</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">-</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">k_neighbors</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        top_similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">top_k_indices</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        top_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">rated_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">top_k_indices</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # è¿‡æ»¤æ‰ç›¸ä¼¼åº¦ä¸º0çš„ç‰©å“</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        valid_mask </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> top_similarities </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        if</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sum</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_mask</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> ==</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">            return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mean</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">])</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">            </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">        # è®¡ç®—åŠ æƒå¹³å‡</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        valid_similarities </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> top_similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_mask</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        valid_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> top_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_mask</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        predicted_rating </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sum</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_similarities </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">*</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> valid_ratings</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> /</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sum</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">valid_similarities</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">clip</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">predicted_rating</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 1</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 5</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">    def</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\"> recommend_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> n_recommendations</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">10</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">        \"\"\"</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">ä¸ºç”¨æˆ·æ¨èç‰©å“</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        user_ratings </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_item_matrix</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        candidate_items </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> np</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">where</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_ratings </span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">==</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\"> 0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)[</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">0</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        predictions </span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\"> [(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#A65E2B;--shiki-dark:#C99076\"> self</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">predict_rating</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">user_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">,</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">))</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">                      for</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> item_id </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">in</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> candidate_items</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        predictions</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">.</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">sort</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">(</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\">key</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">lambda</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> x</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">:</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> x</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">1</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">],</span><span style=\"--shiki-light:#B07D48;--shiki-dark:#BD976A\"> reverse</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">True</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">        return</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> predictions</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">[:</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">n_recommendations</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">]</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2 id=\"ğŸ¯-itemcfçš„ç‹¬ç‰¹ä¼˜åŠ¿\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ¯-itemcfçš„ç‹¬ç‰¹ä¼˜åŠ¿\"><span>ğŸ¯ ItemCFçš„ç‹¬ç‰¹ä¼˜åŠ¿</span></a></h2>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">å¯¹æ¯”åˆ†æå‚è€ƒ</p>\n<p>UserCFä¸ItemCFçš„è¯¦ç»†å¯¹æ¯”åˆ†æè¯·å‚è€ƒ <RouteLink to=\"/zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.html#usercf-vs-itemcf-%E5%85%A8%E9%9D%A2%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90\">ååŒè¿‡æ»¤æ€»è§ˆ</RouteLink> ä¸­çš„å…¨é¢åˆ†æã€‚</p>\n</div>\n<h3 id=\"itemcfçš„æ ¸å¿ƒä¼˜åŠ¿\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#itemcfçš„æ ¸å¿ƒä¼˜åŠ¿\"><span>ItemCFçš„æ ¸å¿ƒä¼˜åŠ¿</span></a></h3>\n<p><strong>ç¨³å®šæ€§ä¼˜åŠ¿</strong>ï¼š</p>\n<ul>\n<li>ç‰©å“å±æ€§ç›¸å¯¹ç¨³å®šï¼Œç›¸ä¼¼åº¦çŸ©é˜µæ›´æ–°é¢‘ç‡ä½</li>\n<li>é€‚åˆç‰©å“åº“ç›¸å¯¹å›ºå®šçš„ç”µå•†ã€æ•™è‚²ç­‰åœºæ™¯</li>\n</ul>\n<p><strong>è®¡ç®—æ•ˆç‡</strong>ï¼š</p>\n<ul>\n<li>å¯ä»¥ç¦»çº¿é¢„è®¡ç®—ç‰©å“ç›¸ä¼¼åº¦çŸ©é˜µ</li>\n<li>å®æ—¶æ¨èå“åº”é€Ÿåº¦å¿«</li>\n</ul>\n<p><strong>å·¥ç¨‹å®ç°ä¼˜åŠ¿</strong>ï¼š</p>\n<ul>\n<li>æ›´å®¹æ˜“è¿›è¡Œç¼“å­˜ä¼˜åŒ–</li>\n<li>åˆ†å¸ƒå¼è®¡ç®—å‹å¥½</li>\n</ul>\n<h2 id=\"ğŸš€-itemcfçš„ä¼˜åŒ–ç­–ç•¥\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸš€-itemcfçš„ä¼˜åŒ–ç­–ç•¥\"><span>ğŸš€ ItemCFçš„ä¼˜åŒ–ç­–ç•¥</span></a></h2>\n<h3 id=\"ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–\"><span>ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–</span></a></h3>\n<p><strong>1. å…±ç°çŸ©é˜µä¼˜åŒ–</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>C</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi mathvariant=\"normal\">âˆ£</mi><msub><mi>U</mi><mi>i</mi></msub><mo>âˆ©</mo><msub><mi>U</mi><mi>j</mi></msub><mi mathvariant=\"normal\">âˆ£</mi></mrow><annotation encoding=\"application/x-tex\">C_{ij} = |U_i \\cap U_j|\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">ij</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">âˆ£</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">âˆ©</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\">âˆ£</span></span></span></span></span></p>\n<p>å…¶ä¸­ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>U</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">U_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯è´­ä¹°/è¯„åˆ†ç‰©å“ <span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6595em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> çš„ç”¨æˆ·é›†åˆã€‚</p>\n<p><strong>2. æƒ©ç½šçƒ­é—¨ç‰©å“</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>s</mi><mi>i</mi><msup><mi>m</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><mrow><mi>log</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><mi mathvariant=\"normal\">âˆ£</mi><msub><mi>U</mi><mi>j</mi></msub><mi mathvariant=\"normal\">âˆ£</mi><mo stretchy=\"false\">)</mo></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">sim&#x27;(i,j) = \\frac{sim(i,j)}{\\log(1 + |U_j|)}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0519em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8019em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.3991em;vertical-align:-0.9721em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">âˆ£</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mord\">âˆ£</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9721em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>é˜²æ­¢çƒ­é—¨ç‰©å“ä¸»å¯¼ç›¸ä¼¼åº¦è®¡ç®—ã€‚</p>\n<p><strong>3. æ—¶é—´è¡°å‡å› å­</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>â‹…</mo><mi>exp</mi><mo>â¡</mo><mo stretchy=\"false\">(</mo><mo>âˆ’</mo><mi>Î»</mi><mo>â‹…</mo><mi mathvariant=\"normal\">Î”</mi><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{time}(i,j) = sim(i,j) \\cdot \\exp(-\\lambda \\cdot \\Delta t)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">im</span><span class=\"mord mathnormal mtight\">e</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">im</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">exp</span><span class=\"mopen\">(</span><span class=\"mord\">âˆ’</span><span class=\"mord mathnormal\">Î»</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">Î”</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å¯¹å†å²æ•°æ®è¿›è¡Œæ—¶é—´è¡°å‡ã€‚</p>\n<h3 id=\"å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–\"><span>å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–</span></a></h3>\n<table>\n<thead>\n<tr>\n<th>ä¼˜åŒ–æ–¹æ³•</th>\n<th>æŠ€æœ¯æ‰‹æ®µ</th>\n<th>é€‚ç”¨åœºæ™¯</th>\n<th>æ•ˆæœ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>ç¨€ç–å­˜å‚¨</strong></td>\n<td>scipy.sparse.csr_matrix</td>\n<td>å¤§è§„æ¨¡ç¨€ç–çŸ©é˜µ</td>\n<td>èŠ‚çœ90%+å†…å­˜</td>\n</tr>\n<tr>\n<td><strong>Top-Kæˆªæ–­</strong></td>\n<td>åªå­˜å‚¨ç›¸ä¼¼åº¦æœ€é«˜çš„Kä¸ªç‰©å“</td>\n<td>å®æ—¶æ¨è</td>\n<td>æå‡æŸ¥è¯¢é€Ÿåº¦</td>\n</tr>\n<tr>\n<td><strong>åˆ†å—è®¡ç®—</strong></td>\n<td>å°†ç‰©å“çŸ©é˜µåˆ†å—å¹¶è¡Œè®¡ç®—</td>\n<td>è¶…å¤§è§„æ¨¡æ•°æ®</td>\n<td>çº¿æ€§æ‰©å±•èƒ½åŠ›</td>\n</tr>\n<tr>\n<td><strong>å¢é‡æ›´æ–°</strong></td>\n<td>åªæ›´æ–°æ–°å¢/å˜åŒ–çš„ç‰©å“å¯¹</td>\n<td>åŠ¨æ€æ•°æ®</td>\n<td>é™ä½æ›´æ–°æˆæœ¬</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ğŸ¯-åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ¯-åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ\"><span>ğŸ¯ åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ</span></a></h2>\n<h3 id=\"ç”µå•†æ¨èç³»ç»Ÿ\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç”µå•†æ¨èç³»ç»Ÿ\"><span>ç”µå•†æ¨èç³»ç»Ÿ</span></a></h3>\n<p><strong>Amazon å•†å“æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>&quot;è´­ä¹°äº†Açš„ç”¨æˆ·è¿˜è´­ä¹°äº†B&quot;</strong>ï¼šç»å…¸ItemCFåº”ç”¨</li>\n<li><strong>å•†å“ç›¸ä¼¼åº¦é¢„è®¡ç®—</strong>ï¼šç¦»çº¿è®¡ç®—å•†å“ç›¸ä¼¼åº¦çŸ©é˜µ</li>\n<li><strong>å¤šé‡è¿‡æ»¤æœºåˆ¶</strong>ï¼šä»·æ ¼åŒºé—´ã€å“ç±»çº¦æŸã€åº“å­˜çŠ¶æ€</li>\n</ul>\n<p><strong>æŠ€æœ¯ç»†èŠ‚</strong>ï¼š</p>\n<Mermaid id=\"mermaid-286\" code=\"eJxNkM1Kw0AUhfd9ikuhy76CYO2Piiu3xYUI4kIQRHAbS1Nr28RiGtPWkhoQG0EjFcTYpO27SO7MZFUfwcxkhM7icuF859zDHJ+eXR6dHJ5fwN5+BpK3Wc3+jo0W0J5Lml/M6UT+LHsA+fwGFLhk1Vb+LdDxS9z/JHYdg0QVxi1hbAOaDTSucGoTZSKNRSF1ARsqet/0wY/CEGfP0ihGQYClavZneC8O/EPMc6hnSbSYUmIvib3Mo+8WshC+9bHmrueWBVXhuQ4Q3WVaF0OTGLqEtrky4Bcjf4gth03q2BzI3js8vKcBDQxij9jymgRP0ldJATF3Oaa/y/gUXu+Qy0E0XyYfiqqLUyVWNXbzsQo7xHqMRwpqJm2/Mm9B517mDwSLuUU=\"></Mermaid><h3 id=\"å†…å®¹æ¨èå¹³å°\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#å†…å®¹æ¨èå¹³å°\"><span>å†…å®¹æ¨èå¹³å°</span></a></h3>\n<p><strong>Netflix ç”µå½±æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>åŸºäºè§‚çœ‹å†å²çš„ItemCF</strong>ï¼šåˆ†æè§‚çœ‹è¡Œä¸ºç›¸ä¼¼æ€§</li>\n<li><strong>å¤šç»´åº¦ç‰¹å¾èåˆ</strong>ï¼šç»“åˆç”µå½±ç±»å‹ã€å¯¼æ¼”ã€æ¼”å‘˜ç­‰</li>\n<li><strong>ä¸ªæ€§åŒ–æƒé‡è°ƒæ•´</strong>ï¼šæ ¹æ®ç”¨æˆ·ç”»åƒè°ƒæ•´æ¨èæƒé‡</li>\n</ul>\n<p><strong>YouTube è§†é¢‘æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>è§‚çœ‹åºåˆ—åˆ†æ</strong>ï¼šåŸºäºè§‚çœ‹é¡ºåºçš„ç‰©å“ç›¸ä¼¼åº¦</li>\n<li><strong>å¤šç›®æ ‡ä¼˜åŒ–</strong>ï¼šå¹³è¡¡ç‚¹å‡»ç‡ã€è§‚çœ‹æ—¶é•¿ã€ç”¨æˆ·æ»¡æ„åº¦</li>\n<li><strong>å®æ—¶åé¦ˆå­¦ä¹ </strong>ï¼šæ ¹æ®ç”¨æˆ·å®æ—¶è¡Œä¸ºè°ƒæ•´æ¨è</li>\n</ul>\n<h3 id=\"éŸ³ä¹æµåª’ä½“\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#éŸ³ä¹æµåª’ä½“\"><span>éŸ³ä¹æµåª’ä½“</span></a></h3>\n<p><strong>Spotify æ­Œæ›²æ¨è</strong>ï¼š</p>\n<ul>\n<li><strong>åŸºäºæ’­æ”¾è¡Œä¸ºçš„ItemCF</strong>ï¼šåˆ†ææ­Œæ›²å…±ç°æ¨¡å¼</li>\n<li><strong>éŸ³é¢‘ç‰¹å¾èåˆ</strong>ï¼šç»“åˆéŸ³ä¹çš„å£°å­¦ç‰¹å¾</li>\n<li><strong>æƒ…å¢ƒæ„ŸçŸ¥æ¨è</strong>ï¼šè€ƒè™‘æ—¶é—´ã€åœ°ç‚¹ã€å¿ƒæƒ…ç­‰å› ç´ </li>\n</ul>\n<h2 id=\"ğŸ”§-itemcfçš„æ”¹è¿›æŠ€æœ¯\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ”§-itemcfçš„æ”¹è¿›æŠ€æœ¯\"><span>ğŸ”§ ItemCFçš„æ”¹è¿›æŠ€æœ¯</span></a></h2>\n<h3 id=\"å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ\"><span>å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ</span></a></h3>\n<p><strong>ç»¼åˆç›¸ä¼¼åº¦è®¡ç®—</strong>ï¼š</p>\n<p v-pre class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>f</mi><mi>i</mi><mi>n</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>Î±</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>C</mi><mi>F</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>Î²</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>Î³</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>e</mi><mi>m</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{final}(i,j) = \\alpha \\cdot sim_{CF}(i,j) + \\beta \\cdot sim_{content}(i,j) + \\gamma \\cdot sim_{temporal}(i,j)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal mtight\">ina</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">CF</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">co</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6389em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">or</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>C</mi><mi>F</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{CF}(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">CF</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span>ï¼šååŒè¿‡æ»¤ç›¸ä¼¼åº¦</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{content}(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2806em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">co</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span>ï¼šå†…å®¹ç›¸ä¼¼åº¦</li>\n<li><span v-pre class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>e</mi><mi>m</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">sim_{temporal}(i,j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">t</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">or</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">)</span></span></span></span>ï¼šæ—¶åºç›¸ä¼¼åº¦</li>\n</ul>\n<h3 id=\"åŸºäºå›¾çš„itemcf\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#åŸºäºå›¾çš„itemcf\"><span>åŸºäºå›¾çš„ItemCF</span></a></h3>\n<p><strong>ç‰©å“å…³ç³»å›¾å»ºæ¨¡</strong>ï¼š</p>\n<Mermaid id=\"mermaid-389\" code=\"eJxLy8kvT85ILCpRCHHhUgACx2ilD/Mnb1R43rny6eRGR6VYBV1duxolAz0LpRoFJxRJJ6VYsBYnmBIzoBJnFCXOUCWOMCXmQCUuKEpcoEpcYEosgUpcUZS4QpWACTeQ1MQlCs+nrHjWsf3FlrVPdm6AOlPBHSQ3e/H7Hf0KL7avf7qvxdBKwfFR2yQnIIY5xQ2s0gNdpRFEpQsQo1inqqrwZO9+oGVPW1c83djwsrX3Reem93t6nk1f8HJOw9Peqc+717xYt+/53nVcAPPsi08=\"></Mermaid><p><strong>å›¾éšæœºæ¸¸èµ°ç®—æ³•</strong>ï¼š</p>\n<ul>\n<li><strong>PersonalRankç®—æ³•</strong>ï¼šåœ¨ç”¨æˆ·-ç‰©å“äºŒéƒ¨å›¾ä¸Šè¿›è¡Œéšæœºæ¸¸èµ°</li>\n<li><strong>SimRankç®—æ³•</strong>ï¼šåŸºäºå›¾ç»“æ„çš„ç›¸ä¼¼åº¦è®¡ç®—</li>\n<li><strong>è·¯å¾„å¤šæ ·æ€§</strong>ï¼šé€šè¿‡å¤šæ¡è·¯å¾„å¢åŠ æ¨èå¤šæ ·æ€§</li>\n</ul>\n<h3 id=\"æ·±åº¦å­¦ä¹ å¢å¼º\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#æ·±åº¦å­¦ä¹ å¢å¼º\"><span>æ·±åº¦å­¦ä¹ å¢å¼º</span></a></h3>\n<p><strong>Neural ItemCF</strong>ï¼š</p>\n<ul>\n<li><strong>ç‰©å“åµŒå…¥å­¦ä¹ </strong>ï¼šå­¦ä¹ ç‰©å“çš„ä½ç»´ç¨ å¯†è¡¨ç¤º</li>\n<li><strong>æ³¨æ„åŠ›æœºåˆ¶</strong>ï¼šåŠ¨æ€è°ƒæ•´ä¸åŒç‰©å“çš„é‡è¦æ€§æƒé‡</li>\n<li><strong>åºåˆ—å»ºæ¨¡</strong>ï¼šè€ƒè™‘ç”¨æˆ·è¡Œä¸ºçš„æ—¶åºæ€§</li>\n</ul>\n<h2 id=\"ğŸ“Š-itemcfä¸“å±ä¼˜åŒ–ç­–ç•¥\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ğŸ“Š-itemcfä¸“å±ä¼˜åŒ–ç­–ç•¥\"><span>ğŸ“Š ItemCFä¸“å±ä¼˜åŒ–ç­–ç•¥</span></a></h2>\n<h3 id=\"itemcfå…³é”®å‚æ•°è°ƒä¼˜\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#itemcfå…³é”®å‚æ•°è°ƒä¼˜\"><span>ItemCFå…³é”®å‚æ•°è°ƒä¼˜</span></a></h3>\n<p><strong>ç‰©å“ç›¸ä¼¼åº¦ä¼˜åŒ–</strong>ï¼š</p>\n<ul>\n<li><strong>ç›¸ä¼¼åº¦é˜ˆå€¼</strong>ï¼šè®¾ç½®0.1-0.2ï¼Œè¿‡æ»¤å¼±ç›¸å…³ç‰©å“</li>\n<li><strong>é‚»å±…æ•°é‡</strong>ï¼šK=10-30ï¼Œç”µå•†åœºæ™¯æ¨èè¾ƒå°å€¼</li>\n<li><strong>æ—¶é—´è¡°å‡å› å­</strong>ï¼šÎ»=0.01-0.1ï¼Œå¹³è¡¡æ–°æ—§ç‰©å“</li>\n</ul>\n<h3 id=\"itemcfç‰¹æœ‰æ”¹è¿›\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#itemcfç‰¹æœ‰æ”¹è¿›\"><span>ItemCFç‰¹æœ‰æ”¹è¿›</span></a></h3>\n<p><strong>ç‰©å“ç‰¹å¾å¢å¼º</strong>ï¼š</p>\n<ul>\n<li>ç»“åˆç‰©å“å†…å®¹ç‰¹å¾</li>\n<li>ä»·æ ¼åŒºé—´çº¦æŸ</li>\n<li>å“ç±»å±‚æ¬¡å…³ç³»</li>\n</ul>\n<p><strong>ç”¨æˆ·åå¥½å»ºæ¨¡</strong>ï¼š</p>\n<ul>\n<li>é•¿çŸ­æœŸåå¥½åˆ†ç¦»</li>\n<li>æƒ…å¢ƒæ„ŸçŸ¥æ¨è</li>\n<li>å¤šæ ·æ€§çº¦æŸä¼˜åŒ–</li>\n</ul>\n<h2 id=\"âš¡-å®æ—¶æ¨èæ¶æ„\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#âš¡-å®æ—¶æ¨èæ¶æ„\"><span>âš¡ å®æ—¶æ¨èæ¶æ„</span></a></h2>\n<h3 id=\"ç³»ç»Ÿæ¶æ„è®¾è®¡\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç³»ç»Ÿæ¶æ„è®¾è®¡\"><span>ç³»ç»Ÿæ¶æ„è®¾è®¡</span></a></h3>\n<Mermaid id=\"mermaid-508\" code=\"eJxNkMtOwkAUhvc8xUkTlryCidzk4tIdYWFMjAsTE2PiFhSQWykKiAgp1hCsCeFiQLAt8C6GMzOs8BFsh1l0FpOTnO/7z5k5v7y6Pbs4vb6Bk6AH7HOYkH5fNcChSprfTCtvFoaUBJ/vAPwJ6a9bLgKZpbGXodWclOSGn3cDTreeAVr4wVWatKfkeSwAfgXtXGUMtG9SY01sSERwOeTItSLQ9mJjWWj0afdz+zITfogzYT5ABjp9R6tBOjIWNfeAI54xAVLRmVxlozmZ3In4iNN67AGt6yQ/p3UT7xWhRjgQ5W5JuKgMsK26swN7itdhVx3ldcyxlZxtP6GhEF1DtSTsGAfizp+2dgsF2EcG8y22fiBmTyBxjhw7GZWR2ICaNaJ23Bt4vbBZru0HYFbHSWqblVnha2eVSfNt20mh3KClARuu6HLo+QeKbtA1\"></Mermaid><h3 id=\"ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥\"><span>ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥</span></a></h3>\n<p><strong>å¤šçº§ç¼“å­˜æ¶æ„</strong>ï¼š</p>\n<ol>\n<li><strong>L1ç¼“å­˜ï¼ˆRedisï¼‰</strong>ï¼šç”¨æˆ·æœ€è¿‘æ¨èç»“æœ</li>\n<li><strong>L2ç¼“å­˜ï¼ˆMemcachedï¼‰</strong>ï¼šç‰©å“ç›¸ä¼¼åº¦Top-K</li>\n<li><strong>L3å­˜å‚¨ï¼ˆHBaseï¼‰</strong>ï¼šå®Œæ•´ç›¸ä¼¼åº¦çŸ©é˜µ</li>\n</ol>\n<p><strong>ç¼“å­˜æ›´æ–°ç­–ç•¥</strong>ï¼š</p>\n<ul>\n<li><strong>TTLè¿‡æœŸ</strong>ï¼šè®¾ç½®åˆç†çš„ç¼“å­˜è¿‡æœŸæ—¶é—´</li>\n<li><strong>ä¸»åŠ¨å¤±æ•ˆ</strong>ï¼šç‰©å“ä¿¡æ¯å˜æ›´æ—¶ä¸»åŠ¨æ¸…ç†ç¼“å­˜</li>\n<li><strong>é¢„çƒ­æœºåˆ¶</strong>ï¼šé«˜é¢‘è®¿é—®æ•°æ®é¢„å…ˆåŠ è½½åˆ°ç¼“å­˜</li>\n</ul>\n<hr>\n<blockquote>\n<p>ğŸ§  <strong>æ€è€ƒé¢˜</strong></p>\n<ol>\n<li>ItemCF åœ¨å¤„ç†çƒ­é—¨å•†å“æ—¶å¯èƒ½ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿé™¤äº†&quot;çƒ­é—¨æƒ©ç½š&quot;ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ–¹æ³•å¯ä»¥ç¼“è§£ï¼Ÿ</li>\n<li>ItemCF ç›¸æ¯” UserCF çš„ä¸»è¦ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿåœ¨å“ªäº›åœºæ™¯ä¸‹ ItemCF ä¼šè¡¨ç°æ›´å¥½ï¼Ÿ</li>\n<li>å¦‚ä½•å°†ç‰©å“çš„å†…å®¹ç‰¹å¾ï¼ˆå¦‚æ–‡æœ¬æè¿°ã€å›¾ç‰‡ï¼‰èå…¥åˆ° ItemCF çš„ç›¸ä¼¼åº¦è®¡ç®—ä¸­ï¼Ÿ</li>\n<li>å®æ—¶ ItemCF ç³»ç»Ÿå¦‚ä½•è®¾è®¡ï¼Ÿå½“ç”¨æˆ·äº§ç”Ÿæ–°çš„è¡Œä¸ºæ—¶ï¼Œå¦‚ä½•å¿«é€Ÿæ›´æ–°æ¨èç»“æœï¼Ÿ</li>\n</ol>\n</blockquote>\n<p>ğŸ“– <strong>å»¶ä¼¸é˜…è¯»</strong></p>\n<ol>\n<li><a href=\"https://dl.acm.org/doi/10.1145/371920.372071\" target=\"_blank\" rel=\"noopener noreferrer\">Item-based collaborative filtering recommendation algorithms</a> - å…³äºItemCFçš„åŸå§‹è®ºæ–‡</li>\n<li><a href=\"https://link.springer.com/book/10.1007/978-1-4899-7638-9\" target=\"_blank\" rel=\"noopener noreferrer\">Recommender systems handbook</a> - ä¸€æœ¬å…³äºæ¨èç³»ç»Ÿçš„ç»¼åˆæ€§ä¹¦ç±</li>\n<li><a href=\"https://github.com/datawhalechina/torch-rechub\" target=\"_blank\" rel=\"noopener noreferrer\">Torch-RecHub: A Library for Recommender Systems</a> - ä¸€ä¸ªåŒ…å«å¤šç§æ¨¡å‹å®ç°çš„æ¨èç³»ç»Ÿå¼€æºåº“</li>\n</ol>\n<p><em>&quot;ItemCFçš„æ™ºæ…§åœ¨äºå‘ç°ç‰©å“é—´çš„å†…åœ¨è”ç³»ï¼Œè®©æ¯ä¸€æ¬¡æ¨èéƒ½æˆä¸ºç”¨æˆ·å…´è¶£çš„è‡ªç„¶å»¶ä¼¸&quot;</em></p>\n","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"åŸºäºç‰©å“çš„ååŒè¿‡æ»¤ï¼ˆItem-based Collaborative Filtering, ItemCFï¼‰æ˜¯å¦ä¸€ç§ç»å…¸çš„ååŒè¿‡æ»¤æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒç†å¿µæ˜¯ **\"ç‰©ä»¥ç±»èš\"**ã€‚ä¸UserCFä¸åŒï¼ŒItemCFå…³æ³¨çš„æ˜¯ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œé€šè¿‡åˆ†æç”¨æˆ·å¯¹ç›¸ä¼¼ç‰©å“çš„åå¥½æ¥è¿›è¡Œæ¨èã€‚\n\n## ğŸ¯ ItemCFçš„æ ¸å¿ƒæ€æƒ³\n\n::: tip ç‰©å“ç¨³å®šæ€§\nç›¸æ¯”äºç”¨æˆ·åå¥½çš„å¤šå˜æ€§ï¼Œç‰©å“çš„ç‰¹å¾å’Œç”¨æˆ·å¯¹ç‰©å“çš„æ•´ä½“è¯„ä»·ç›¸å¯¹ç¨³å®šï¼Œè¿™ä½¿å¾—ItemCFåœ¨å¾ˆå¤šåœºæ™¯ä¸‹æ¯”UserCFæ›´å®ç”¨ã€‚\n:::\n\n### ç®—æ³•ç›´è§‰\n\nå½“ä½ åœ¨è´­ç‰©ç½‘ç«™ä¸Šçœ‹å•†å“æ—¶ï¼Œç»å¸¸ä¼šçœ‹åˆ°\"ä¹°äº†è¿™ä¸ªå•†å“çš„ç”¨æˆ·è¿˜ä¹°äº†...\"è¿™æ ·çš„æ¨èï¼Œè¿™å°±æ˜¯ItemCFçš„å…¸å‹åº”ç”¨ï¼š\n1. åˆ†æä½ å·²ç»è´­ä¹°/å–œæ¬¢çš„å•†å“\n2. æ‰¾åˆ°ä¸è¿™äº›å•†å“ç›¸ä¼¼çš„å…¶ä»–å•†å“\n3. æ¨èç›¸ä¼¼åº¦æœ€é«˜çš„å•†å“\n\n### æ•°å­¦è¡¨è¾¾\n\nItemCFé¢„æµ‹ç”¨æˆ· $u$ å¯¹ç‰©å“ $i$ çš„è¯„åˆ†ï¼š\n\n$$\\hat{r}_{u,i} = \\frac{\\sum_{j \\in N_k(i)} sim(i,j) \\cdot r_{u,j}}{\\sum_{j \\in N_k(i)} |sim(i,j)|}$$\n\nå…¶ä¸­ï¼š\n- $N_k(i)$ æ˜¯ä¸ç‰©å“ $i$ æœ€ç›¸ä¼¼çš„ $k$ ä¸ªç‰©å“é›†åˆ\n- $sim(i,j)$ æ˜¯ç‰©å“ $i$ å’Œ $j$ ä¹‹é—´çš„ç›¸ä¼¼åº¦\n- $r_{u,j}$ æ˜¯ç”¨æˆ· $u$ å¯¹ç‰©å“ $j$ çš„è¯„åˆ†\n\n## ğŸ“ ItemCFçš„æ ¸å¿ƒç®—æ³•\n\n::: tip å‚è€ƒååŒè¿‡æ»¤æ€»è§ˆ\nè¯¦ç»†çš„ç›¸ä¼¼åº¦è®¡ç®—æ–¹æ³•è¯·å‚è€ƒ [ååŒè¿‡æ»¤æ€»è§ˆ](./2.collaborative_filtering.md#ç›¸ä¼¼åº¦åº¦é‡æ–¹æ³•è¯¦ç»†å¯¹æ¯”) ä¸­çš„å®Œæ•´å¯¹æ¯”åˆ†æã€‚\n:::\n\nItemCFåœ¨ç‰©å“ç›¸ä¼¼åº¦è®¡ç®—ä¸Šçš„ç‰¹ç‚¹ï¼š\n- **éšå¼åé¦ˆ**ï¼šä½™å¼¦ç›¸ä¼¼åº¦è¡¨ç°æœ€ä½³\n- **æ˜¾å¼è¯„åˆ†**ï¼šè°ƒæ•´ä½™å¼¦ç›¸ä¼¼åº¦æ›´å‡†ç¡®\n- **å¤§è§„æ¨¡ç³»ç»Ÿ**ï¼šæ°å¡å¾·ç³»æ•°è®¡ç®—æ•ˆç‡é«˜\n\n## ğŸ’» ItemCFç®—æ³•å®ç°\n\n::: details ItemCFæ ¸å¿ƒç®—æ³•æ¡†æ¶\n```python\nimport numpy as np\nfrom sklearn.metrics.pairwise import cosine_similarity\n\nclass ItemBasedCF:\n    def __init__(self, k_neighbors=20, similarity_method='cosine'):\n        self.k_neighbors = k_neighbors\n        self.similarity_method = similarity_method\n        self.item_similarity_matrix = None\n        \n    def fit(self, user_item_matrix):\n        \"\"\"è®­ç»ƒItemCFæ¨¡å‹\"\"\"\n        self.user_item_matrix = user_item_matrix.copy()\n        \n        # è®¡ç®—ç‰©å“ç›¸ä¼¼åº¦çŸ©é˜µ\n        if self.similarity_method == 'cosine':\n            # è½¬ç½®ä¸ºç‰©å“Ã—ç”¨æˆ·çŸ©é˜µï¼Œè®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦\n            item_user_matrix = self.user_item_matrix.T\n            self.item_similarity_matrix = cosine_similarity(item_user_matrix)\n        elif self.similarity_method == 'adjusted_cosine':\n            self.item_similarity_matrix = self._adjusted_cosine_similarity()\n        else:\n            raise ValueError(f\"Unknown similarity method: {self.similarity_method}\")\n        \n    def predict_rating(self, user_id, item_id):\n        \"\"\"é¢„æµ‹ç”¨æˆ·å¯¹ç‰©å“çš„è¯„åˆ†\"\"\"\n        user_ratings = self.user_item_matrix[user_id]\n        item_similarities = self.item_similarity_matrix[item_id]\n        \n        # æ‰¾åˆ°ç”¨æˆ·å·²è¯„åˆ†çš„ç‰©å“\n        rated_items = np.where(user_ratings > 0)[0]\n        \n        if len(rated_items) == 0:\n            return np.mean(self.user_item_matrix[:, item_id][self.user_item_matrix[:, item_id] > 0])\n            \n        # é€‰æ‹©æœ€ç›¸ä¼¼çš„kä¸ªç‰©å“\n        similarities = item_similarities[rated_items]\n        top_k_indices = np.argsort(similarities)[-self.k_neighbors:]\n        \n        top_similarities = similarities[top_k_indices]\n        top_ratings = user_ratings[rated_items[top_k_indices]]\n        \n        # è¿‡æ»¤æ‰ç›¸ä¼¼åº¦ä¸º0çš„ç‰©å“\n        valid_mask = top_similarities > 0\n        if np.sum(valid_mask) == 0:\n            return np.mean(user_ratings[user_ratings > 0])\n            \n        # è®¡ç®—åŠ æƒå¹³å‡\n        valid_similarities = top_similarities[valid_mask]\n        valid_ratings = top_ratings[valid_mask]\n        \n        predicted_rating = np.sum(valid_similarities * valid_ratings) / np.sum(valid_similarities)\n        return np.clip(predicted_rating, 1, 5)\n        \n    def recommend_items(self, user_id, n_recommendations=10):\n        \"\"\"ä¸ºç”¨æˆ·æ¨èç‰©å“\"\"\"\n        user_ratings = self.user_item_matrix[user_id]\n        candidate_items = np.where(user_ratings == 0)[0]\n        \n        predictions = [(item_id, self.predict_rating(user_id, item_id)) \n                      for item_id in candidate_items]\n        predictions.sort(key=lambda x: x[1], reverse=True)\n        \n        return predictions[:n_recommendations]\n```\n:::\n\n## ğŸ¯ ItemCFçš„ç‹¬ç‰¹ä¼˜åŠ¿\n\n::: tip å¯¹æ¯”åˆ†æå‚è€ƒ\nUserCFä¸ItemCFçš„è¯¦ç»†å¯¹æ¯”åˆ†æè¯·å‚è€ƒ [ååŒè¿‡æ»¤æ€»è§ˆ](./2.collaborative_filtering.md#usercf-vs-itemcf-å…¨é¢å¯¹æ¯”åˆ†æ) ä¸­çš„å…¨é¢åˆ†æã€‚\n:::\n\n### ItemCFçš„æ ¸å¿ƒä¼˜åŠ¿\n\n**ç¨³å®šæ€§ä¼˜åŠ¿**ï¼š\n- ç‰©å“å±æ€§ç›¸å¯¹ç¨³å®šï¼Œç›¸ä¼¼åº¦çŸ©é˜µæ›´æ–°é¢‘ç‡ä½\n- é€‚åˆç‰©å“åº“ç›¸å¯¹å›ºå®šçš„ç”µå•†ã€æ•™è‚²ç­‰åœºæ™¯\n\n**è®¡ç®—æ•ˆç‡**ï¼š\n- å¯ä»¥ç¦»çº¿é¢„è®¡ç®—ç‰©å“ç›¸ä¼¼åº¦çŸ©é˜µ\n- å®æ—¶æ¨èå“åº”é€Ÿåº¦å¿«\n\n**å·¥ç¨‹å®ç°ä¼˜åŠ¿**ï¼š\n- æ›´å®¹æ˜“è¿›è¡Œç¼“å­˜ä¼˜åŒ–\n- åˆ†å¸ƒå¼è®¡ç®—å‹å¥½\n\n## ğŸš€ ItemCFçš„ä¼˜åŒ–ç­–ç•¥\n\n### ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–\n\n**1. å…±ç°çŸ©é˜µä¼˜åŒ–**ï¼š\n$$C_{ij} = |U_i \\cap U_j|$$\n\nå…¶ä¸­ $U_i$ æ˜¯è´­ä¹°/è¯„åˆ†ç‰©å“ $i$ çš„ç”¨æˆ·é›†åˆã€‚\n\n**2. æƒ©ç½šçƒ­é—¨ç‰©å“**ï¼š\n$$sim'(i,j) = \\frac{sim(i,j)}{\\log(1 + |U_j|)}$$\n\né˜²æ­¢çƒ­é—¨ç‰©å“ä¸»å¯¼ç›¸ä¼¼åº¦è®¡ç®—ã€‚\n\n**3. æ—¶é—´è¡°å‡å› å­**ï¼š\n$$sim_{time}(i,j) = sim(i,j) \\cdot \\exp(-\\lambda \\cdot \\Delta t)$$\n\nå¯¹å†å²æ•°æ®è¿›è¡Œæ—¶é—´è¡°å‡ã€‚\n\n### å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–\n\n| ä¼˜åŒ–æ–¹æ³• | æŠ€æœ¯æ‰‹æ®µ | é€‚ç”¨åœºæ™¯ | æ•ˆæœ |\n|----------|----------|----------|------|\n| **ç¨€ç–å­˜å‚¨** | scipy.sparse.csr_matrix | å¤§è§„æ¨¡ç¨€ç–çŸ©é˜µ | èŠ‚çœ90%+å†…å­˜ |\n| **Top-Kæˆªæ–­** | åªå­˜å‚¨ç›¸ä¼¼åº¦æœ€é«˜çš„Kä¸ªç‰©å“ | å®æ—¶æ¨è | æå‡æŸ¥è¯¢é€Ÿåº¦ |\n| **åˆ†å—è®¡ç®—** | å°†ç‰©å“çŸ©é˜µåˆ†å—å¹¶è¡Œè®¡ç®— | è¶…å¤§è§„æ¨¡æ•°æ® | çº¿æ€§æ‰©å±•èƒ½åŠ› |\n| **å¢é‡æ›´æ–°** | åªæ›´æ–°æ–°å¢/å˜åŒ–çš„ç‰©å“å¯¹ | åŠ¨æ€æ•°æ® | é™ä½æ›´æ–°æˆæœ¬ |\n\n## ğŸ¯ åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ\n\n### ç”µå•†æ¨èç³»ç»Ÿ\n\n**Amazon å•†å“æ¨è**ï¼š\n- **\"è´­ä¹°äº†Açš„ç”¨æˆ·è¿˜è´­ä¹°äº†B\"**ï¼šç»å…¸ItemCFåº”ç”¨\n- **å•†å“ç›¸ä¼¼åº¦é¢„è®¡ç®—**ï¼šç¦»çº¿è®¡ç®—å•†å“ç›¸ä¼¼åº¦çŸ©é˜µ\n- **å¤šé‡è¿‡æ»¤æœºåˆ¶**ï¼šä»·æ ¼åŒºé—´ã€å“ç±»çº¦æŸã€åº“å­˜çŠ¶æ€\n\n**æŠ€æœ¯ç»†èŠ‚**ï¼š\n```mermaid\nflowchart LR\n    A[\"ğŸ“Š ç”¨æˆ·è¡Œä¸º\"] --> B[\"ğŸ—‚ï¸ çŸ©é˜µæ„å»º\"]\n    C[\"ğŸ“‹ å•†å“å±æ€§\"] --> D[\"ğŸ“ å†…å®¹ç›¸ä¼¼åº¦\"]\n    \n    B --> E[\"âš–ï¸ ç›¸ä¼¼åº¦è®¡ç®—\"]\n    D --> E\n    E --> F[\"ğŸ’¾ çŸ©é˜µå­˜å‚¨\"]\n    \n    F --> G[\"âš¡ æ¨èå¼•æ“\"]\n    H[\"âš™ï¸ ä¸šåŠ¡è§„åˆ™\"] --> I[\"ğŸ” ç»“æœè¿‡æ»¤\"]\n    G --> I --> J[\"ğŸ¯ æ¨èç»“æœ\"]\n    \n    %% ä½¿ç”¨å…¨å±€é…è‰²ï¼Œæ— éœ€å•ç‹¬è®¾ç½®\n```\n\n### å†…å®¹æ¨èå¹³å°\n\n**Netflix ç”µå½±æ¨è**ï¼š\n- **åŸºäºè§‚çœ‹å†å²çš„ItemCF**ï¼šåˆ†æè§‚çœ‹è¡Œä¸ºç›¸ä¼¼æ€§\n- **å¤šç»´åº¦ç‰¹å¾èåˆ**ï¼šç»“åˆç”µå½±ç±»å‹ã€å¯¼æ¼”ã€æ¼”å‘˜ç­‰\n- **ä¸ªæ€§åŒ–æƒé‡è°ƒæ•´**ï¼šæ ¹æ®ç”¨æˆ·ç”»åƒè°ƒæ•´æ¨èæƒé‡\n\n**YouTube è§†é¢‘æ¨è**ï¼š\n- **è§‚çœ‹åºåˆ—åˆ†æ**ï¼šåŸºäºè§‚çœ‹é¡ºåºçš„ç‰©å“ç›¸ä¼¼åº¦\n- **å¤šç›®æ ‡ä¼˜åŒ–**ï¼šå¹³è¡¡ç‚¹å‡»ç‡ã€è§‚çœ‹æ—¶é•¿ã€ç”¨æˆ·æ»¡æ„åº¦\n- **å®æ—¶åé¦ˆå­¦ä¹ **ï¼šæ ¹æ®ç”¨æˆ·å®æ—¶è¡Œä¸ºè°ƒæ•´æ¨è\n\n### éŸ³ä¹æµåª’ä½“\n\n**Spotify æ­Œæ›²æ¨è**ï¼š\n- **åŸºäºæ’­æ”¾è¡Œä¸ºçš„ItemCF**ï¼šåˆ†ææ­Œæ›²å…±ç°æ¨¡å¼\n- **éŸ³é¢‘ç‰¹å¾èåˆ**ï¼šç»“åˆéŸ³ä¹çš„å£°å­¦ç‰¹å¾\n- **æƒ…å¢ƒæ„ŸçŸ¥æ¨è**ï¼šè€ƒè™‘æ—¶é—´ã€åœ°ç‚¹ã€å¿ƒæƒ…ç­‰å› ç´ \n\n## ğŸ”§ ItemCFçš„æ”¹è¿›æŠ€æœ¯\n\n### å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ\n\n**ç»¼åˆç›¸ä¼¼åº¦è®¡ç®—**ï¼š\n$$sim_{final}(i,j) = \\alpha \\cdot sim_{CF}(i,j) + \\beta \\cdot sim_{content}(i,j) + \\gamma \\cdot sim_{temporal}(i,j)$$\n\nå…¶ä¸­ï¼š\n- $sim_{CF}(i,j)$ï¼šååŒè¿‡æ»¤ç›¸ä¼¼åº¦\n- $sim_{content}(i,j)$ï¼šå†…å®¹ç›¸ä¼¼åº¦  \n- $sim_{temporal}(i,j)$ï¼šæ—¶åºç›¸ä¼¼åº¦\n\n### åŸºäºå›¾çš„ItemCF\n\n**ç‰©å“å…³ç³»å›¾å»ºæ¨¡**ï¼š\n```mermaid\nflowchart TD\n    A[\"ğŸ“± ç‰©å“A\"] -->|\"0.8\"| B[\"ğŸ“± ç‰©å“B\"]\n    B -->|\"0.6\"| C[\"ğŸ“± ç‰©å“C\"]\n    A -->|\"0.7\"| D[\"ğŸ“± ç‰©å“D\"]\n    D -->|\"0.9\"| E[\"ğŸ“± ç‰©å“E\"]\n    \n    F[\"ğŸ‘¤ ç”¨æˆ·è´­ä¹°A\"] --> G[\"ğŸ›£ï¸ è·¯å¾„1: Aâ†’Bâ†’C\"]\n    F --> H[\"ğŸ›£ï¸ è·¯å¾„2: Aâ†’Dâ†’E\"]\n    \n    %% ä½¿ç”¨å…¨å±€é…è‰²ï¼Œæ— éœ€å•ç‹¬è®¾ç½®\n```\n\n**å›¾éšæœºæ¸¸èµ°ç®—æ³•**ï¼š\n- **PersonalRankç®—æ³•**ï¼šåœ¨ç”¨æˆ·-ç‰©å“äºŒéƒ¨å›¾ä¸Šè¿›è¡Œéšæœºæ¸¸èµ°\n- **SimRankç®—æ³•**ï¼šåŸºäºå›¾ç»“æ„çš„ç›¸ä¼¼åº¦è®¡ç®—\n- **è·¯å¾„å¤šæ ·æ€§**ï¼šé€šè¿‡å¤šæ¡è·¯å¾„å¢åŠ æ¨èå¤šæ ·æ€§\n\n### æ·±åº¦å­¦ä¹ å¢å¼º\n\n**Neural ItemCF**ï¼š\n- **ç‰©å“åµŒå…¥å­¦ä¹ **ï¼šå­¦ä¹ ç‰©å“çš„ä½ç»´ç¨ å¯†è¡¨ç¤º\n- **æ³¨æ„åŠ›æœºåˆ¶**ï¼šåŠ¨æ€è°ƒæ•´ä¸åŒç‰©å“çš„é‡è¦æ€§æƒé‡\n- **åºåˆ—å»ºæ¨¡**ï¼šè€ƒè™‘ç”¨æˆ·è¡Œä¸ºçš„æ—¶åºæ€§\n\n## ğŸ“Š ItemCFä¸“å±ä¼˜åŒ–ç­–ç•¥\n\n### ItemCFå…³é”®å‚æ•°è°ƒä¼˜\n\n**ç‰©å“ç›¸ä¼¼åº¦ä¼˜åŒ–**ï¼š\n- **ç›¸ä¼¼åº¦é˜ˆå€¼**ï¼šè®¾ç½®0.1-0.2ï¼Œè¿‡æ»¤å¼±ç›¸å…³ç‰©å“\n- **é‚»å±…æ•°é‡**ï¼šK=10-30ï¼Œç”µå•†åœºæ™¯æ¨èè¾ƒå°å€¼\n- **æ—¶é—´è¡°å‡å› å­**ï¼šÎ»=0.01-0.1ï¼Œå¹³è¡¡æ–°æ—§ç‰©å“\n\n### ItemCFç‰¹æœ‰æ”¹è¿›\n\n**ç‰©å“ç‰¹å¾å¢å¼º**ï¼š\n- ç»“åˆç‰©å“å†…å®¹ç‰¹å¾\n- ä»·æ ¼åŒºé—´çº¦æŸ\n- å“ç±»å±‚æ¬¡å…³ç³»\n\n**ç”¨æˆ·åå¥½å»ºæ¨¡**ï¼š\n- é•¿çŸ­æœŸåå¥½åˆ†ç¦»\n- æƒ…å¢ƒæ„ŸçŸ¥æ¨è\n- å¤šæ ·æ€§çº¦æŸä¼˜åŒ–\n\n## âš¡ å®æ—¶æ¨èæ¶æ„\n\n### ç³»ç»Ÿæ¶æ„è®¾è®¡\n\n```mermaid\nflowchart TD\n    A[\"âš¡ å®æ—¶è¡Œä¸º\"] --> B[\"ğŸŒŠ æµå¤„ç†\"]\n    B --> C[\"ğŸ”„ ç‰¹å¾æ›´æ–°\"]\n    \n    D[\"â° ç¦»çº¿æ‰¹å¤„ç†\"] --> E[\"ğŸ“Š ç›¸ä¼¼åº¦çŸ©é˜µ\"]\n    E --> F[\"ğŸ” ç´¢å¼•æœåŠ¡\"]\n    \n    G[\"ğŸ“± æ¨èè¯·æ±‚\"] --> H[\"ğŸ‘¤ ç”¨æˆ·ç”»åƒ\"]\n    H --> I[\"ğŸ“‹ æ¨èå¬å›\"]\n    \n    C --> I\n    F --> I\n    I --> J[\"ğŸ† æ’åºæ¨¡å‹\"]\n    J --> K[\"âš™ï¸ è§„åˆ™è¿‡æ»¤\"]\n    K --> L[\"ğŸ¯ æ¨èç»“æœ\"]\n    \n    %% ä½¿ç”¨å…¨å±€é…è‰²ï¼Œæ— éœ€å•ç‹¬è®¾ç½®\n```\n\n### ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥\n\n**å¤šçº§ç¼“å­˜æ¶æ„**ï¼š\n1. **L1ç¼“å­˜ï¼ˆRedisï¼‰**ï¼šç”¨æˆ·æœ€è¿‘æ¨èç»“æœ\n2. **L2ç¼“å­˜ï¼ˆMemcachedï¼‰**ï¼šç‰©å“ç›¸ä¼¼åº¦Top-K\n3. **L3å­˜å‚¨ï¼ˆHBaseï¼‰**ï¼šå®Œæ•´ç›¸ä¼¼åº¦çŸ©é˜µ\n\n**ç¼“å­˜æ›´æ–°ç­–ç•¥**ï¼š\n- **TTLè¿‡æœŸ**ï¼šè®¾ç½®åˆç†çš„ç¼“å­˜è¿‡æœŸæ—¶é—´\n- **ä¸»åŠ¨å¤±æ•ˆ**ï¼šç‰©å“ä¿¡æ¯å˜æ›´æ—¶ä¸»åŠ¨æ¸…ç†ç¼“å­˜\n- **é¢„çƒ­æœºåˆ¶**ï¼šé«˜é¢‘è®¿é—®æ•°æ®é¢„å…ˆåŠ è½½åˆ°ç¼“å­˜\n\n---\n\n> ğŸ§  **æ€è€ƒé¢˜**\n> \n> 1. ItemCF åœ¨å¤„ç†çƒ­é—¨å•†å“æ—¶å¯èƒ½ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿé™¤äº†\"çƒ­é—¨æƒ©ç½š\"ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ–¹æ³•å¯ä»¥ç¼“è§£ï¼Ÿ\n> 2. ItemCF ç›¸æ¯” UserCF çš„ä¸»è¦ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿåœ¨å“ªäº›åœºæ™¯ä¸‹ ItemCF ä¼šè¡¨ç°æ›´å¥½ï¼Ÿ\n> 3. å¦‚ä½•å°†ç‰©å“çš„å†…å®¹ç‰¹å¾ï¼ˆå¦‚æ–‡æœ¬æè¿°ã€å›¾ç‰‡ï¼‰èå…¥åˆ° ItemCF çš„ç›¸ä¼¼åº¦è®¡ç®—ä¸­ï¼Ÿ\n> 4. å®æ—¶ ItemCF ç³»ç»Ÿå¦‚ä½•è®¾è®¡ï¼Ÿå½“ç”¨æˆ·äº§ç”Ÿæ–°çš„è¡Œä¸ºæ—¶ï¼Œå¦‚ä½•å¿«é€Ÿæ›´æ–°æ¨èç»“æœï¼Ÿ\n\nğŸ“– **å»¶ä¼¸é˜…è¯»**\n1. [Item-based collaborative filtering recommendation algorithms](https://dl.acm.org/doi/10.1145/371920.372071) - å…³äºItemCFçš„åŸå§‹è®ºæ–‡\n2. [Recommender systems handbook](https://link.springer.com/book/10.1007/978-1-4899-7638-9) - ä¸€æœ¬å…³äºæ¨èç³»ç»Ÿçš„ç»¼åˆæ€§ä¹¦ç±\n3. [Torch-RecHub: A Library for Recommender Systems](https://github.com/datawhalechina/torch-rechub) - ä¸€ä¸ªåŒ…å«å¤šç§æ¨¡å‹å®ç°çš„æ¨èç³»ç»Ÿå¼€æºåº“\n\n*\"ItemCFçš„æ™ºæ…§åœ¨äºå‘ç°ç‰©å“é—´çš„å†…åœ¨è”ç³»ï¼Œè®©æ¯ä¸€æ¬¡æ¨èéƒ½æˆä¸ºç”¨æˆ·å…´è¶£çš„è‡ªç„¶å»¶ä¼¸\"*","excerpt":"","includedFiles":[],"tasklistId":0,"title":"","headers":[{"level":2,"title":"ğŸ¯ ItemCFçš„æ ¸å¿ƒæ€æƒ³","slug":"ğŸ¯-itemcfçš„æ ¸å¿ƒæ€æƒ³","link":"#ğŸ¯-itemcfçš„æ ¸å¿ƒæ€æƒ³","children":[{"level":3,"title":"ç®—æ³•ç›´è§‰","slug":"ç®—æ³•ç›´è§‰","link":"#ç®—æ³•ç›´è§‰","children":[]},{"level":3,"title":"æ•°å­¦è¡¨è¾¾","slug":"æ•°å­¦è¡¨è¾¾","link":"#æ•°å­¦è¡¨è¾¾","children":[]}]},{"level":2,"title":"ğŸ“ ItemCFçš„æ ¸å¿ƒç®—æ³•","slug":"ğŸ“-itemcfçš„æ ¸å¿ƒç®—æ³•","link":"#ğŸ“-itemcfçš„æ ¸å¿ƒç®—æ³•","children":[]},{"level":2,"title":"ğŸ’» ItemCFç®—æ³•å®ç°","slug":"ğŸ’»-itemcfç®—æ³•å®ç°","link":"#ğŸ’»-itemcfç®—æ³•å®ç°","children":[]},{"level":2,"title":"ğŸ¯ ItemCFçš„ç‹¬ç‰¹ä¼˜åŠ¿","slug":"ğŸ¯-itemcfçš„ç‹¬ç‰¹ä¼˜åŠ¿","link":"#ğŸ¯-itemcfçš„ç‹¬ç‰¹ä¼˜åŠ¿","children":[{"level":3,"title":"ItemCFçš„æ ¸å¿ƒä¼˜åŠ¿","slug":"itemcfçš„æ ¸å¿ƒä¼˜åŠ¿","link":"#itemcfçš„æ ¸å¿ƒä¼˜åŠ¿","children":[]}]},{"level":2,"title":"ğŸš€ ItemCFçš„ä¼˜åŒ–ç­–ç•¥","slug":"ğŸš€-itemcfçš„ä¼˜åŒ–ç­–ç•¥","link":"#ğŸš€-itemcfçš„ä¼˜åŒ–ç­–ç•¥","children":[{"level":3,"title":"ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–","slug":"ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–","link":"#ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–","children":[]},{"level":3,"title":"å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–","slug":"å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–","link":"#å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–","children":[]}]},{"level":2,"title":"ğŸ¯ åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ","slug":"ğŸ¯-åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ","link":"#ğŸ¯-åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ","children":[{"level":3,"title":"ç”µå•†æ¨èç³»ç»Ÿ","slug":"ç”µå•†æ¨èç³»ç»Ÿ","link":"#ç”µå•†æ¨èç³»ç»Ÿ","children":[]},{"level":3,"title":"å†…å®¹æ¨èå¹³å°","slug":"å†…å®¹æ¨èå¹³å°","link":"#å†…å®¹æ¨èå¹³å°","children":[]},{"level":3,"title":"éŸ³ä¹æµåª’ä½“","slug":"éŸ³ä¹æµåª’ä½“","link":"#éŸ³ä¹æµåª’ä½“","children":[]}]},{"level":2,"title":"ğŸ”§ ItemCFçš„æ”¹è¿›æŠ€æœ¯","slug":"ğŸ”§-itemcfçš„æ”¹è¿›æŠ€æœ¯","link":"#ğŸ”§-itemcfçš„æ”¹è¿›æŠ€æœ¯","children":[{"level":3,"title":"å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ","slug":"å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ","link":"#å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ","children":[]},{"level":3,"title":"åŸºäºå›¾çš„ItemCF","slug":"åŸºäºå›¾çš„itemcf","link":"#åŸºäºå›¾çš„itemcf","children":[]},{"level":3,"title":"æ·±åº¦å­¦ä¹ å¢å¼º","slug":"æ·±åº¦å­¦ä¹ å¢å¼º","link":"#æ·±åº¦å­¦ä¹ å¢å¼º","children":[]}]},{"level":2,"title":"ğŸ“Š ItemCFä¸“å±ä¼˜åŒ–ç­–ç•¥","slug":"ğŸ“Š-itemcfä¸“å±ä¼˜åŒ–ç­–ç•¥","link":"#ğŸ“Š-itemcfä¸“å±ä¼˜åŒ–ç­–ç•¥","children":[{"level":3,"title":"ItemCFå…³é”®å‚æ•°è°ƒä¼˜","slug":"itemcfå…³é”®å‚æ•°è°ƒä¼˜","link":"#itemcfå…³é”®å‚æ•°è°ƒä¼˜","children":[]},{"level":3,"title":"ItemCFç‰¹æœ‰æ”¹è¿›","slug":"itemcfç‰¹æœ‰æ”¹è¿›","link":"#itemcfç‰¹æœ‰æ”¹è¿›","children":[]}]},{"level":2,"title":"âš¡ å®æ—¶æ¨èæ¶æ„","slug":"âš¡-å®æ—¶æ¨èæ¶æ„","link":"#âš¡-å®æ—¶æ¨èæ¶æ„","children":[{"level":3,"title":"ç³»ç»Ÿæ¶æ„è®¾è®¡","slug":"ç³»ç»Ÿæ¶æ„è®¾è®¡","link":"#ç³»ç»Ÿæ¶æ„è®¾è®¡","children":[]},{"level":3,"title":"ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥","slug":"ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥","link":"#ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥","children":[]}]}],"links":[{"raw":"./2.collaborative_filtering.md#%E7%9B%B8%E4%BC%BC%E5%BA%A6%E5%BA%A6%E9%87%8F%E6%96%B9%E6%B3%95%E8%AF%A6%E7%BB%86%E5%AF%B9%E6%AF%94","relative":"zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.md","absolute":"/search-rec-ads-cosmos-explorer/zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.md"},{"raw":"./2.collaborative_filtering.md#usercf-vs-itemcf-%E5%85%A8%E9%9D%A2%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90","relative":"zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.md","absolute":"/search-rec-ads-cosmos-explorer/zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.md"}]}}
