<template><div><p>åŸºäºç‰©å“çš„ååŒè¿‡æ»¤ï¼ˆItem-based Collaborative Filtering, ItemCFï¼‰æ˜¯å¦ä¸€ç§ç»å…¸çš„ååŒè¿‡æ»¤æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒç†å¿µæ˜¯ <strong>&quot;ç‰©ä»¥ç±»èš&quot;</strong>ã€‚ä¸UserCFä¸åŒï¼ŒItemCFå…³æ³¨çš„æ˜¯ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œé€šè¿‡åˆ†æç”¨æˆ·å¯¹ç›¸ä¼¼ç‰©å“çš„åå¥½æ¥è¿›è¡Œæ¨èã€‚</p>
<h2 id="ğŸ¯-itemcfçš„æ ¸å¿ƒæ€æƒ³" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-itemcfçš„æ ¸å¿ƒæ€æƒ³"><span>ğŸ¯ ItemCFçš„æ ¸å¿ƒæ€æƒ³</span></a></h2>
<div class="hint-container tip">
<p class="hint-container-title">ç‰©å“ç¨³å®šæ€§</p>
<p>ç›¸æ¯”äºç”¨æˆ·åå¥½çš„å¤šå˜æ€§ï¼Œç‰©å“çš„ç‰¹å¾å’Œç”¨æˆ·å¯¹ç‰©å“çš„æ•´ä½“è¯„ä»·ç›¸å¯¹ç¨³å®šï¼Œè¿™ä½¿å¾—ItemCFåœ¨å¾ˆå¤šåœºæ™¯ä¸‹æ¯”UserCFæ›´å®ç”¨ã€‚</p>
</div>
<h3 id="ç®—æ³•ç›´è§‰" tabindex="-1"><a class="header-anchor" href="#ç®—æ³•ç›´è§‰"><span>ç®—æ³•ç›´è§‰</span></a></h3>
<p>å½“ä½ åœ¨è´­ç‰©ç½‘ç«™ä¸Šçœ‹å•†å“æ—¶ï¼Œç»å¸¸ä¼šçœ‹åˆ°&quot;ä¹°äº†è¿™ä¸ªå•†å“çš„ç”¨æˆ·è¿˜ä¹°äº†...&quot;è¿™æ ·çš„æ¨èï¼Œè¿™å°±æ˜¯ItemCFçš„å…¸å‹åº”ç”¨ï¼š</p>
<ol>
<li>åˆ†æä½ å·²ç»è´­ä¹°/å–œæ¬¢çš„å•†å“</li>
<li>æ‰¾åˆ°ä¸è¿™äº›å•†å“ç›¸ä¼¼çš„å…¶ä»–å•†å“</li>
<li>æ¨èç›¸ä¼¼åº¦æœ€é«˜çš„å•†å“</li>
</ol>
<h3 id="æ•°å­¦è¡¨è¾¾" tabindex="-1"><a class="header-anchor" href="#æ•°å­¦è¡¨è¾¾"><span>æ•°å­¦è¡¨è¾¾</span></a></h3>
<p>ItemCFé¢„æµ‹ç”¨æˆ· <span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> å¯¹ç‰©å“ <span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> çš„è¯„åˆ†ï¼š</p>
<p v-pre class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mrow><mi>u</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><mo>=</mo><mfrac><mrow><munder><mo>âˆ‘</mo><mrow><mi>j</mi><mo>âˆˆ</mo><msub><mi>N</mi><mi>k</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></munder><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>â‹…</mo><msub><mi>r</mi><mrow><mi>u</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub></mrow><mrow><munder><mo>âˆ‘</mo><mrow><mi>j</mi><mo>âˆˆ</mo><msub><mi>N</mi><mi>k</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></munder><mi mathvariant="normal">âˆ£</mi><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\hat{r}_{u,i} = \frac{\sum_{j \in N_k(i)} sim(i,j) \cdot r_{u,j}}{\sum_{j \in N_k(i)} |sim(i,j)|}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.7754em;vertical-align:-1.1607em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6147em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2253em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">âˆˆ</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4747em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">s</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord">âˆ£</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.8647em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2253em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">âˆˆ</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4747em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1607em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mi>k</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N_k(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span> æ˜¯ä¸ç‰©å“ <span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> æœ€ç›¸ä¼¼çš„ <span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸ªç‰©å“é›†åˆ</li>
<li><span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sim(i,j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span> æ˜¯ç‰©å“ <span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> å’Œ <span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> ä¹‹é—´çš„ç›¸ä¼¼åº¦</li>
<li><span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mrow><mi>u</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">r_{u,j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> æ˜¯ç”¨æˆ· <span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> å¯¹ç‰©å“ <span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> çš„è¯„åˆ†</li>
</ul>
<h2 id="ğŸ“-itemcfçš„æ ¸å¿ƒç®—æ³•" tabindex="-1"><a class="header-anchor" href="#ğŸ“-itemcfçš„æ ¸å¿ƒç®—æ³•"><span>ğŸ“ ItemCFçš„æ ¸å¿ƒç®—æ³•</span></a></h2>
<div class="hint-container tip">
<p class="hint-container-title">å‚è€ƒååŒè¿‡æ»¤æ€»è§ˆ</p>
<p>è¯¦ç»†çš„ç›¸ä¼¼åº¦è®¡ç®—æ–¹æ³•è¯·å‚è€ƒ <RouteLink to="/zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.html#%E7%9B%B8%E4%BC%BC%E5%BA%A6%E5%BA%A6%E9%87%8F%E6%96%B9%E6%B3%95%E8%AF%A6%E7%BB%86%E5%AF%B9%E6%AF%94">ååŒè¿‡æ»¤æ€»è§ˆ</RouteLink> ä¸­çš„å®Œæ•´å¯¹æ¯”åˆ†æã€‚</p>
</div>
<p>ItemCFåœ¨ç‰©å“ç›¸ä¼¼åº¦è®¡ç®—ä¸Šçš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>éšå¼åé¦ˆ</strong>ï¼šä½™å¼¦ç›¸ä¼¼åº¦è¡¨ç°æœ€ä½³</li>
<li><strong>æ˜¾å¼è¯„åˆ†</strong>ï¼šè°ƒæ•´ä½™å¼¦ç›¸ä¼¼åº¦æ›´å‡†ç¡®</li>
<li><strong>å¤§è§„æ¨¡ç³»ç»Ÿ</strong>ï¼šæ°å¡å¾·ç³»æ•°è®¡ç®—æ•ˆç‡é«˜</li>
</ul>
<h2 id="ğŸ’»-itemcfç®—æ³•å®ç°" tabindex="-1"><a class="header-anchor" href="#ğŸ’»-itemcfç®—æ³•å®ç°"><span>ğŸ’» ItemCFç®—æ³•å®ç°</span></a></h2>
<details class="hint-container details"><summary>ItemCFæ ¸å¿ƒç®—æ³•æ¡†æ¶</summary>
<div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-python"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> numpy </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> np</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> sklearn</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">metrics</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">pairwise </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> cosine_similarity</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> ItemBasedCF</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> k_neighbors</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">20</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> similarity_method</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">cosine</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="--shiki-light:#999999;--shiki-dark:#666666">):</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">k_neighbors </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> k_neighbors</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">similarity_method </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> similarity_method</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">item_similarity_matrix </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> None</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> fit</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> user_item_matrix</span><span style="--shiki-light:#999999;--shiki-dark:#666666">):</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">        """</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">è®­ç»ƒItemCFæ¨¡å‹</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"""</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_item_matrix </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> user_item_matrix</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">copy</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">        # è®¡ç®—ç‰©å“ç›¸ä¼¼åº¦çŸ©é˜µ</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">        if</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076"> self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">similarity_method </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">==</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">cosine</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">            # è½¬ç½®ä¸ºç‰©å“Ã—ç”¨æˆ·çŸ©é˜µï¼Œè®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">            item_user_matrix </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076"> self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_item_matrix</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">T</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">            self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">item_similarity_matrix </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> cosine_similarity</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">item_user_matrix</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">        elif</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076"> self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">similarity_method </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">==</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">adjusted_cosine</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">            self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">item_similarity_matrix </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076"> self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">_adjusted_cosine_similarity</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">        else</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">            raise</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965"> ValueError</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"Unknown similarity method: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">{self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">similarity_method</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> predict_rating</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> user_id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> item_id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">):</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">        """</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">é¢„æµ‹ç”¨æˆ·å¯¹ç‰©å“çš„è¯„åˆ†</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"""</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        user_ratings </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076"> self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_item_matrix</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        item_similarities </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076"> self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">item_similarity_matrix</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">item_id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">        # æ‰¾åˆ°ç”¨æˆ·å·²è¯„åˆ†çš„ç‰©å“</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        rated_items </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> np</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">where</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_ratings </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">        if</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965"> len</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">rated_items</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">            return</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> np</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">mean</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_item_matrix</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[:,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> item_id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">][</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_item_matrix</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[:,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> item_id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> ></span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">])</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">            </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">        # é€‰æ‹©æœ€ç›¸ä¼¼çš„kä¸ªç‰©å“</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        similarities </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> item_similarities</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">rated_items</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        top_k_indices </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> np</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">argsort</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">similarities</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)[</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">k_neighbors</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        top_similarities </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> similarities</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">top_k_indices</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        top_ratings </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> user_ratings</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">rated_items</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">top_k_indices</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">        # è¿‡æ»¤æ‰ç›¸ä¼¼åº¦ä¸º0çš„ç‰©å“</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        valid_mask </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> top_similarities </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 0</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">        if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> np</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">sum</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">valid_mask</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> ==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">            return</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> np</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">mean</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_ratings</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_ratings </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">])</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">            </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">        # è®¡ç®—åŠ æƒå¹³å‡</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        valid_similarities </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> top_similarities</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">valid_mask</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        valid_ratings </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> top_ratings</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">valid_mask</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        predicted_rating </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> np</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">sum</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">valid_similarities </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> valid_ratings</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> /</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> np</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">sum</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">valid_similarities</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">        return</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> np</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">clip</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">predicted_rating</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 5</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> recommend_items</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> user_id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> n_recommendations</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">10</span><span style="--shiki-light:#999999;--shiki-dark:#666666">):</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">        """</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">ä¸ºç”¨æˆ·æ¨èç‰©å“</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"""</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        user_ratings </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076"> self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_item_matrix</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        candidate_items </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> np</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">where</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_ratings </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        predictions </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> [(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">item_id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076"> self</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">predict_rating</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">user_id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> item_id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">))</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">                      for</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> item_id </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">in</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> candidate_items</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        predictions</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">sort</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">key</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">lambda</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> x</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> x</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">1</span><span style="--shiki-light:#999999;--shiki-dark:#666666">],</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> reverse</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">True</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">        return</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> predictions</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">n_recommendations</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h2 id="ğŸ¯-itemcfçš„ç‹¬ç‰¹ä¼˜åŠ¿" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-itemcfçš„ç‹¬ç‰¹ä¼˜åŠ¿"><span>ğŸ¯ ItemCFçš„ç‹¬ç‰¹ä¼˜åŠ¿</span></a></h2>
<div class="hint-container tip">
<p class="hint-container-title">å¯¹æ¯”åˆ†æå‚è€ƒ</p>
<p>UserCFä¸ItemCFçš„è¯¦ç»†å¯¹æ¯”åˆ†æè¯·å‚è€ƒ <RouteLink to="/zh/3.%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95--%E6%AF%94%E4%BD%A0%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E8%B4%B4%E5%BF%83%E5%B0%8F%E6%A3%89%E8%A2%84/1.%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%9A%84%E9%97%A8%E6%B4%BE/2.collaborative_filtering.html#usercf-vs-itemcf-%E5%85%A8%E9%9D%A2%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90">ååŒè¿‡æ»¤æ€»è§ˆ</RouteLink> ä¸­çš„å…¨é¢åˆ†æã€‚</p>
</div>
<h3 id="itemcfçš„æ ¸å¿ƒä¼˜åŠ¿" tabindex="-1"><a class="header-anchor" href="#itemcfçš„æ ¸å¿ƒä¼˜åŠ¿"><span>ItemCFçš„æ ¸å¿ƒä¼˜åŠ¿</span></a></h3>
<p><strong>ç¨³å®šæ€§ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>ç‰©å“å±æ€§ç›¸å¯¹ç¨³å®šï¼Œç›¸ä¼¼åº¦çŸ©é˜µæ›´æ–°é¢‘ç‡ä½</li>
<li>é€‚åˆç‰©å“åº“ç›¸å¯¹å›ºå®šçš„ç”µå•†ã€æ•™è‚²ç­‰åœºæ™¯</li>
</ul>
<p><strong>è®¡ç®—æ•ˆç‡</strong>ï¼š</p>
<ul>
<li>å¯ä»¥ç¦»çº¿é¢„è®¡ç®—ç‰©å“ç›¸ä¼¼åº¦çŸ©é˜µ</li>
<li>å®æ—¶æ¨èå“åº”é€Ÿåº¦å¿«</li>
</ul>
<p><strong>å·¥ç¨‹å®ç°ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æ›´å®¹æ˜“è¿›è¡Œç¼“å­˜ä¼˜åŒ–</li>
<li>åˆ†å¸ƒå¼è®¡ç®—å‹å¥½</li>
</ul>
<h2 id="ğŸš€-itemcfçš„ä¼˜åŒ–ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ğŸš€-itemcfçš„ä¼˜åŒ–ç­–ç•¥"><span>ğŸš€ ItemCFçš„ä¼˜åŒ–ç­–ç•¥</span></a></h2>
<h3 id="ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–"><span>ç›¸ä¼¼åº¦è®¡ç®—ä¼˜åŒ–</span></a></h3>
<p><strong>1. å…±ç°çŸ©é˜µä¼˜åŒ–</strong>ï¼š</p>
<p v-pre class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>C</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>U</mi><mi>i</mi></msub><mo>âˆ©</mo><msub><mi>U</mi><mi>j</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">C_{ij} = |U_i \cap U_j|
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span></span></span></span></span></p>
<p>å…¶ä¸­ <span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">U_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ˜¯è´­ä¹°/è¯„åˆ†ç‰©å“ <span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> çš„ç”¨æˆ·é›†åˆã€‚</p>
<p><strong>2. æƒ©ç½šçƒ­é—¨ç‰©å“</strong>ï¼š</p>
<p v-pre class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mi>i</mi><msup><mi>m</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><mrow><mi>log</mi><mo>â¡</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>U</mi><mi>j</mi></msub><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">sim&#x27;(i,j) = \frac{sim(i,j)}{\log(1 + |U_j|)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0519em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3991em;vertical-align:-0.9721em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>é˜²æ­¢çƒ­é—¨ç‰©å“ä¸»å¯¼ç›¸ä¼¼åº¦è®¡ç®—ã€‚</p>
<p><strong>3. æ—¶é—´è¡°å‡å› å­</strong>ï¼š</p>
<p v-pre class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi></mrow></msub><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>â‹…</mo><mi>exp</mi><mo>â¡</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mi>Î»</mi><mo>â‹…</mo><mi mathvariant="normal">Î”</mi><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sim_{time}(i,j) = sim(i,j) \cdot \exp(-\lambda \cdot \Delta t)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">im</span><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">exp</span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord mathnormal">Î»</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Î”</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span></span></p>
<p>å¯¹å†å²æ•°æ®è¿›è¡Œæ—¶é—´è¡°å‡ã€‚</p>
<h3 id="å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–"><span>å­˜å‚¨ä¸è®¡ç®—ä¼˜åŒ–</span></a></h3>
<table>
<thead>
<tr>
<th>ä¼˜åŒ–æ–¹æ³•</th>
<th>æŠ€æœ¯æ‰‹æ®µ</th>
<th>é€‚ç”¨åœºæ™¯</th>
<th>æ•ˆæœ</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ç¨€ç–å­˜å‚¨</strong></td>
<td>scipy.sparse.csr_matrix</td>
<td>å¤§è§„æ¨¡ç¨€ç–çŸ©é˜µ</td>
<td>èŠ‚çœ90%+å†…å­˜</td>
</tr>
<tr>
<td><strong>Top-Kæˆªæ–­</strong></td>
<td>åªå­˜å‚¨ç›¸ä¼¼åº¦æœ€é«˜çš„Kä¸ªç‰©å“</td>
<td>å®æ—¶æ¨è</td>
<td>æå‡æŸ¥è¯¢é€Ÿåº¦</td>
</tr>
<tr>
<td><strong>åˆ†å—è®¡ç®—</strong></td>
<td>å°†ç‰©å“çŸ©é˜µåˆ†å—å¹¶è¡Œè®¡ç®—</td>
<td>è¶…å¤§è§„æ¨¡æ•°æ®</td>
<td>çº¿æ€§æ‰©å±•èƒ½åŠ›</td>
</tr>
<tr>
<td><strong>å¢é‡æ›´æ–°</strong></td>
<td>åªæ›´æ–°æ–°å¢/å˜åŒ–çš„ç‰©å“å¯¹</td>
<td>åŠ¨æ€æ•°æ®</td>
<td>é™ä½æ›´æ–°æˆæœ¬</td>
</tr>
</tbody>
</table>
<h2 id="ğŸ¯-åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ"><span>ğŸ¯ åº”ç”¨åœºæ™¯ä¸è¡Œä¸šå®è·µ</span></a></h2>
<h3 id="ç”µå•†æ¨èç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#ç”µå•†æ¨èç³»ç»Ÿ"><span>ç”µå•†æ¨èç³»ç»Ÿ</span></a></h3>
<p><strong>Amazon å•†å“æ¨è</strong>ï¼š</p>
<ul>
<li><strong>&quot;è´­ä¹°äº†Açš„ç”¨æˆ·è¿˜è´­ä¹°äº†B&quot;</strong>ï¼šç»å…¸ItemCFåº”ç”¨</li>
<li><strong>å•†å“ç›¸ä¼¼åº¦é¢„è®¡ç®—</strong>ï¼šç¦»çº¿è®¡ç®—å•†å“ç›¸ä¼¼åº¦çŸ©é˜µ</li>
<li><strong>å¤šé‡è¿‡æ»¤æœºåˆ¶</strong>ï¼šä»·æ ¼åŒºé—´ã€å“ç±»çº¦æŸã€åº“å­˜çŠ¶æ€</li>
</ul>
<p><strong>æŠ€æœ¯ç»†èŠ‚</strong>ï¼š</p>
<Mermaid id="mermaid-286" code="eJxNkM1Kw0AUhfd9ikuhy76CYO2Piiu3xYUI4kIQRHAbS1Nr28RiGtPWkhoQG0EjFcTYpO27SO7MZFUfwcxkhM7icuF859zDHJ+eXR6dHJ5fwN5+BpK3Wc3+jo0W0J5Lml/M6UT+LHsA+fwGFLhk1Vb+LdDxS9z/JHYdg0QVxi1hbAOaDTSucGoTZSKNRSF1ARsqet/0wY/CEGfP0ihGQYClavZneC8O/EPMc6hnSbSYUmIvib3Mo+8WshC+9bHmrueWBVXhuQ4Q3WVaF0OTGLqEtrky4Bcjf4gth03q2BzI3js8vKcBDQxij9jymgRP0ldJATF3Oaa/y/gUXu+Qy0E0XyYfiqqLUyVWNXbzsQo7xHqMRwpqJm2/Mm9B517mDwSLuUU="></Mermaid><h3 id="å†…å®¹æ¨èå¹³å°" tabindex="-1"><a class="header-anchor" href="#å†…å®¹æ¨èå¹³å°"><span>å†…å®¹æ¨èå¹³å°</span></a></h3>
<p><strong>Netflix ç”µå½±æ¨è</strong>ï¼š</p>
<ul>
<li><strong>åŸºäºè§‚çœ‹å†å²çš„ItemCF</strong>ï¼šåˆ†æè§‚çœ‹è¡Œä¸ºç›¸ä¼¼æ€§</li>
<li><strong>å¤šç»´åº¦ç‰¹å¾èåˆ</strong>ï¼šç»“åˆç”µå½±ç±»å‹ã€å¯¼æ¼”ã€æ¼”å‘˜ç­‰</li>
<li><strong>ä¸ªæ€§åŒ–æƒé‡è°ƒæ•´</strong>ï¼šæ ¹æ®ç”¨æˆ·ç”»åƒè°ƒæ•´æ¨èæƒé‡</li>
</ul>
<p><strong>YouTube è§†é¢‘æ¨è</strong>ï¼š</p>
<ul>
<li><strong>è§‚çœ‹åºåˆ—åˆ†æ</strong>ï¼šåŸºäºè§‚çœ‹é¡ºåºçš„ç‰©å“ç›¸ä¼¼åº¦</li>
<li><strong>å¤šç›®æ ‡ä¼˜åŒ–</strong>ï¼šå¹³è¡¡ç‚¹å‡»ç‡ã€è§‚çœ‹æ—¶é•¿ã€ç”¨æˆ·æ»¡æ„åº¦</li>
<li><strong>å®æ—¶åé¦ˆå­¦ä¹ </strong>ï¼šæ ¹æ®ç”¨æˆ·å®æ—¶è¡Œä¸ºè°ƒæ•´æ¨è</li>
</ul>
<h3 id="éŸ³ä¹æµåª’ä½“" tabindex="-1"><a class="header-anchor" href="#éŸ³ä¹æµåª’ä½“"><span>éŸ³ä¹æµåª’ä½“</span></a></h3>
<p><strong>Spotify æ­Œæ›²æ¨è</strong>ï¼š</p>
<ul>
<li><strong>åŸºäºæ’­æ”¾è¡Œä¸ºçš„ItemCF</strong>ï¼šåˆ†ææ­Œæ›²å…±ç°æ¨¡å¼</li>
<li><strong>éŸ³é¢‘ç‰¹å¾èåˆ</strong>ï¼šç»“åˆéŸ³ä¹çš„å£°å­¦ç‰¹å¾</li>
<li><strong>æƒ…å¢ƒæ„ŸçŸ¥æ¨è</strong>ï¼šè€ƒè™‘æ—¶é—´ã€åœ°ç‚¹ã€å¿ƒæƒ…ç­‰å› ç´ </li>
</ul>
<h2 id="ğŸ”§-itemcfçš„æ”¹è¿›æŠ€æœ¯" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-itemcfçš„æ”¹è¿›æŠ€æœ¯"><span>ğŸ”§ ItemCFçš„æ”¹è¿›æŠ€æœ¯</span></a></h2>
<h3 id="å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ" tabindex="-1"><a class="header-anchor" href="#å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ"><span>å¤šç»´åº¦ç›¸ä¼¼åº¦èåˆ</span></a></h3>
<p><strong>ç»¼åˆç›¸ä¼¼åº¦è®¡ç®—</strong>ï¼š</p>
<p v-pre class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>f</mi><mi>i</mi><mi>n</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Î±</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>C</mi><mi>F</mi></mrow></msub><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>+</mo><mi>Î²</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>+</mo><mi>Î³</mi><mo>â‹…</mo><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>e</mi><mi>m</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sim_{final}(i,j) = \alpha \cdot sim_{CF}(i,j) + \beta \cdot sim_{content}(i,j) + \gamma \cdot sim_{temporal}(i,j)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">ina</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">CF</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">co</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">or</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span></span></p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>C</mi><mi>F</mi></mrow></msub><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sim_{CF}(i,j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">CF</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>ï¼šååŒè¿‡æ»¤ç›¸ä¼¼åº¦</li>
<li><span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sim_{content}(i,j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">co</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>ï¼šå†…å®¹ç›¸ä¼¼åº¦</li>
<li><span v-pre class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>i</mi><msub><mi>m</mi><mrow><mi>t</mi><mi>e</mi><mi>m</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>a</mi><mi>l</mi></mrow></msub><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sim_{temporal}(i,j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">or</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>ï¼šæ—¶åºç›¸ä¼¼åº¦</li>
</ul>
<h3 id="åŸºäºå›¾çš„itemcf" tabindex="-1"><a class="header-anchor" href="#åŸºäºå›¾çš„itemcf"><span>åŸºäºå›¾çš„ItemCF</span></a></h3>
<p><strong>ç‰©å“å…³ç³»å›¾å»ºæ¨¡</strong>ï¼š</p>
<Mermaid id="mermaid-389" code="eJxLy8kvT85ILCpRCHHhUgACx2ilD/Mnb1R43rny6eRGR6VYBV1duxolAz0LpRoFJxRJJ6VYsBYnmBIzoBJnFCXOUCWOMCXmQCUuKEpcoEpcYEosgUpcUZS4QpWACTeQ1MQlCs+nrHjWsf3FlrVPdm6AOlPBHSQ3e/H7Hf0KL7avf7qvxdBKwfFR2yQnIIY5xQ2s0gNdpRFEpQsQo1inqqrwZO9+oGVPW1c83djwsrX3Reem93t6nk1f8HJOw9Peqc+717xYt+/53nVcAPPsi08="></Mermaid><p><strong>å›¾éšæœºæ¸¸èµ°ç®—æ³•</strong>ï¼š</p>
<ul>
<li><strong>PersonalRankç®—æ³•</strong>ï¼šåœ¨ç”¨æˆ·-ç‰©å“äºŒéƒ¨å›¾ä¸Šè¿›è¡Œéšæœºæ¸¸èµ°</li>
<li><strong>SimRankç®—æ³•</strong>ï¼šåŸºäºå›¾ç»“æ„çš„ç›¸ä¼¼åº¦è®¡ç®—</li>
<li><strong>è·¯å¾„å¤šæ ·æ€§</strong>ï¼šé€šè¿‡å¤šæ¡è·¯å¾„å¢åŠ æ¨èå¤šæ ·æ€§</li>
</ul>
<h3 id="æ·±åº¦å­¦ä¹ å¢å¼º" tabindex="-1"><a class="header-anchor" href="#æ·±åº¦å­¦ä¹ å¢å¼º"><span>æ·±åº¦å­¦ä¹ å¢å¼º</span></a></h3>
<p><strong>Neural ItemCF</strong>ï¼š</p>
<ul>
<li><strong>ç‰©å“åµŒå…¥å­¦ä¹ </strong>ï¼šå­¦ä¹ ç‰©å“çš„ä½ç»´ç¨ å¯†è¡¨ç¤º</li>
<li><strong>æ³¨æ„åŠ›æœºåˆ¶</strong>ï¼šåŠ¨æ€è°ƒæ•´ä¸åŒç‰©å“çš„é‡è¦æ€§æƒé‡</li>
<li><strong>åºåˆ—å»ºæ¨¡</strong>ï¼šè€ƒè™‘ç”¨æˆ·è¡Œä¸ºçš„æ—¶åºæ€§</li>
</ul>
<h2 id="ğŸ“Š-itemcfä¸“å±ä¼˜åŒ–ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ğŸ“Š-itemcfä¸“å±ä¼˜åŒ–ç­–ç•¥"><span>ğŸ“Š ItemCFä¸“å±ä¼˜åŒ–ç­–ç•¥</span></a></h2>
<h3 id="itemcfå…³é”®å‚æ•°è°ƒä¼˜" tabindex="-1"><a class="header-anchor" href="#itemcfå…³é”®å‚æ•°è°ƒä¼˜"><span>ItemCFå…³é”®å‚æ•°è°ƒä¼˜</span></a></h3>
<p><strong>ç‰©å“ç›¸ä¼¼åº¦ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li><strong>ç›¸ä¼¼åº¦é˜ˆå€¼</strong>ï¼šè®¾ç½®0.1-0.2ï¼Œè¿‡æ»¤å¼±ç›¸å…³ç‰©å“</li>
<li><strong>é‚»å±…æ•°é‡</strong>ï¼šK=10-30ï¼Œç”µå•†åœºæ™¯æ¨èè¾ƒå°å€¼</li>
<li><strong>æ—¶é—´è¡°å‡å› å­</strong>ï¼šÎ»=0.01-0.1ï¼Œå¹³è¡¡æ–°æ—§ç‰©å“</li>
</ul>
<h3 id="itemcfç‰¹æœ‰æ”¹è¿›" tabindex="-1"><a class="header-anchor" href="#itemcfç‰¹æœ‰æ”¹è¿›"><span>ItemCFç‰¹æœ‰æ”¹è¿›</span></a></h3>
<p><strong>ç‰©å“ç‰¹å¾å¢å¼º</strong>ï¼š</p>
<ul>
<li>ç»“åˆç‰©å“å†…å®¹ç‰¹å¾</li>
<li>ä»·æ ¼åŒºé—´çº¦æŸ</li>
<li>å“ç±»å±‚æ¬¡å…³ç³»</li>
</ul>
<p><strong>ç”¨æˆ·åå¥½å»ºæ¨¡</strong>ï¼š</p>
<ul>
<li>é•¿çŸ­æœŸåå¥½åˆ†ç¦»</li>
<li>æƒ…å¢ƒæ„ŸçŸ¥æ¨è</li>
<li>å¤šæ ·æ€§çº¦æŸä¼˜åŒ–</li>
</ul>
<h2 id="âš¡-å®æ—¶æ¨èæ¶æ„" tabindex="-1"><a class="header-anchor" href="#âš¡-å®æ—¶æ¨èæ¶æ„"><span>âš¡ å®æ—¶æ¨èæ¶æ„</span></a></h2>
<h3 id="ç³»ç»Ÿæ¶æ„è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#ç³»ç»Ÿæ¶æ„è®¾è®¡"><span>ç³»ç»Ÿæ¶æ„è®¾è®¡</span></a></h3>
<Mermaid id="mermaid-508" code="eJxNkMtOwkAUhvc8xUkTlryCidzk4tIdYWFMjAsTE2PiFhSQWykKiAgp1hCsCeFiQLAt8C6GMzOs8BFsh1l0FpOTnO/7z5k5v7y6Pbs4vb6Bk6AH7HOYkH5fNcChSprfTCtvFoaUBJ/vAPwJ6a9bLgKZpbGXodWclOSGn3cDTreeAVr4wVWatKfkeSwAfgXtXGUMtG9SY01sSERwOeTItSLQ9mJjWWj0afdz+zITfogzYT5ABjp9R6tBOjIWNfeAI54xAVLRmVxlozmZ3In4iNN67AGt6yQ/p3UT7xWhRjgQ5W5JuKgMsK26swN7itdhVx3ldcyxlZxtP6GhEF1DtSTsGAfizp+2dgsF2EcG8y22fiBmTyBxjhw7GZWR2ICaNaJ23Bt4vbBZru0HYFbHSWqblVnha2eVSfNt20mh3KClARuu6HLo+QeKbtA1"></Mermaid><h3 id="ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥"><span>ç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥</span></a></h3>
<p><strong>å¤šçº§ç¼“å­˜æ¶æ„</strong>ï¼š</p>
<ol>
<li><strong>L1ç¼“å­˜ï¼ˆRedisï¼‰</strong>ï¼šç”¨æˆ·æœ€è¿‘æ¨èç»“æœ</li>
<li><strong>L2ç¼“å­˜ï¼ˆMemcachedï¼‰</strong>ï¼šç‰©å“ç›¸ä¼¼åº¦Top-K</li>
<li><strong>L3å­˜å‚¨ï¼ˆHBaseï¼‰</strong>ï¼šå®Œæ•´ç›¸ä¼¼åº¦çŸ©é˜µ</li>
</ol>
<p><strong>ç¼“å­˜æ›´æ–°ç­–ç•¥</strong>ï¼š</p>
<ul>
<li><strong>TTLè¿‡æœŸ</strong>ï¼šè®¾ç½®åˆç†çš„ç¼“å­˜è¿‡æœŸæ—¶é—´</li>
<li><strong>ä¸»åŠ¨å¤±æ•ˆ</strong>ï¼šç‰©å“ä¿¡æ¯å˜æ›´æ—¶ä¸»åŠ¨æ¸…ç†ç¼“å­˜</li>
<li><strong>é¢„çƒ­æœºåˆ¶</strong>ï¼šé«˜é¢‘è®¿é—®æ•°æ®é¢„å…ˆåŠ è½½åˆ°ç¼“å­˜</li>
</ul>
<hr>
<blockquote>
<p>ğŸ§  <strong>æ€è€ƒé¢˜</strong></p>
<ol>
<li>ItemCF åœ¨å¤„ç†çƒ­é—¨å•†å“æ—¶å¯èƒ½ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿé™¤äº†&quot;çƒ­é—¨æƒ©ç½š&quot;ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ–¹æ³•å¯ä»¥ç¼“è§£ï¼Ÿ</li>
<li>ItemCF ç›¸æ¯” UserCF çš„ä¸»è¦ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿåœ¨å“ªäº›åœºæ™¯ä¸‹ ItemCF ä¼šè¡¨ç°æ›´å¥½ï¼Ÿ</li>
<li>å¦‚ä½•å°†ç‰©å“çš„å†…å®¹ç‰¹å¾ï¼ˆå¦‚æ–‡æœ¬æè¿°ã€å›¾ç‰‡ï¼‰èå…¥åˆ° ItemCF çš„ç›¸ä¼¼åº¦è®¡ç®—ä¸­ï¼Ÿ</li>
<li>å®æ—¶ ItemCF ç³»ç»Ÿå¦‚ä½•è®¾è®¡ï¼Ÿå½“ç”¨æˆ·äº§ç”Ÿæ–°çš„è¡Œä¸ºæ—¶ï¼Œå¦‚ä½•å¿«é€Ÿæ›´æ–°æ¨èç»“æœï¼Ÿ</li>
</ol>
</blockquote>
<p>ğŸ“– <strong>å»¶ä¼¸é˜…è¯»</strong></p>
<ol>
<li><a href="https://dl.acm.org/doi/10.1145/371920.372071" target="_blank" rel="noopener noreferrer">Item-based collaborative filtering recommendation algorithms</a> - å…³äºItemCFçš„åŸå§‹è®ºæ–‡</li>
<li><a href="https://link.springer.com/book/10.1007/978-1-4899-7638-9" target="_blank" rel="noopener noreferrer">Recommender systems handbook</a> - ä¸€æœ¬å…³äºæ¨èç³»ç»Ÿçš„ç»¼åˆæ€§ä¹¦ç±</li>
<li><a href="https://github.com/datawhalechina/torch-rechub" target="_blank" rel="noopener noreferrer">Torch-RecHub: A Library for Recommender Systems</a> - ä¸€ä¸ªåŒ…å«å¤šç§æ¨¡å‹å®ç°çš„æ¨èç³»ç»Ÿå¼€æºåº“</li>
</ol>
<p><em>&quot;ItemCFçš„æ™ºæ…§åœ¨äºå‘ç°ç‰©å“é—´çš„å†…åœ¨è”ç³»ï¼Œè®©æ¯ä¸€æ¬¡æ¨èéƒ½æˆä¸ºç”¨æˆ·å…´è¶£çš„è‡ªç„¶å»¶ä¼¸&quot;</em></p>
</div></template>


